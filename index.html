<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pix2Print ‚Äî Mejora y prepara tu imagen para imprimir</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#1a1612;--ink2:#2e2925;--warm:#f7f4ef;--warm2:#ede9e1;--warm3:#e0dbd1;
  --card:#fff;--terra:#c94f2a;--terra2:#e0672f;--terra-bg:rgba(201,79,42,.07);--terra-bd:rgba(201,79,42,.2);
  --gold:#b5860a;--gold-bg:rgba(181,134,10,.08);--green:#2a6e4a;--green-bg:rgba(42,110,74,.07);
  --muted:#7a746a;--muted2:#5a5550;
  --s2:0 4px 20px rgba(26,22,18,.1);--s3:0 12px 48px rgba(26,22,18,.15);--s4:0 32px 80px rgba(26,22,18,.2);
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:'Outfit',sans-serif;background:var(--warm);color:var(--ink);min-height:100vh;overflow-x:hidden;}
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-thumb{background:var(--warm3);border-radius:2px;}

nav{position:sticky;top:0;z-index:200;height:58px;background:rgba(247,244,239,.93);backdrop-filter:blur(20px);border-bottom:1px solid rgba(26,22,18,.07);display:flex;align-items:center;padding:0 32px;justify-content:space-between;}
.logo{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;letter-spacing:-.03em;display:flex;align-items:center;gap:8px;color:var(--ink);text-decoration:none;}
.logo-mark{width:26px;height:26px;background:var(--ink);border-radius:6px;display:flex;align-items:center;justify-content:center;color:var(--warm);font-family:'Cormorant Garamond',serif;font-style:italic;font-size:13px;}
.nav-r{display:flex;gap:10px;align-items:center;}

.btn{display:inline-flex;align-items:center;gap:6px;padding:9px 20px;border-radius:8px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;cursor:pointer;border:none;transition:all .2s;white-space:nowrap;}
.btn-ink{background:var(--ink);color:var(--warm);}
.btn-ink:hover{background:var(--ink2);transform:translateY(-1px);box-shadow:var(--s2);}
.btn-outline{background:transparent;color:var(--muted2);border:1px solid rgba(26,22,18,.14);}
.btn-outline:hover{border-color:var(--ink);color:var(--ink);background:var(--warm2);}
.btn-terra{background:var(--terra);color:white;font-weight:600;}
.btn-terra:hover{background:#b8421f;transform:translateY(-1px);box-shadow:0 6px 20px rgba(201,79,42,.35);}
.btn-lg{padding:13px 28px;font-size:15px;border-radius:10px;}
.btn-sm{padding:6px 14px;font-size:12px;border-radius:6px;}
.btn-full{width:100%;justify-content:center;}
.btn:disabled{opacity:.4;cursor:not-allowed;transform:none!important;box-shadow:none!important;}

/* STEP BAR */
.stepbar{display:flex;align-items:center;max-width:580px;margin:0 auto;padding:24px 32px 0;}
.si{display:flex;flex-direction:column;align-items:center;gap:5px;flex:1;position:relative;}
.si:not(:last-child)::after{content:'';position:absolute;top:15px;left:calc(50%+19px);right:calc(-50%+19px);height:1px;background:var(--warm3);transition:background .4s;}
.si.done:not(:last-child)::after,.si.act:not(:last-child)::after{background:var(--terra);}
.sc{width:30px;height:30px;border-radius:50%;background:var(--warm3);border:2px solid transparent;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:var(--muted);transition:all .3s;position:relative;z-index:1;}
.si.act .sc{background:var(--terra);border-color:var(--terra);color:white;box-shadow:0 0 0 5px rgba(201,79,42,.12);}
.si.done .sc{background:var(--green);border-color:var(--green);color:white;}
.sl{font-size:10px;color:var(--muted);font-weight:500;text-align:center;white-space:nowrap;}
.si.act .sl{color:var(--terra);font-weight:700;}
.si.done .sl{color:var(--green);}

.screen{display:none;padding:32px;max-width:1100px;margin:0 auto;animation:sIn .3s ease;}
.screen.act{display:block;}
@keyframes sIn{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:translateY(0);}}
.sh{font-family:'Cormorant Garamond',serif;font-size:clamp(24px,3vw,32px);font-weight:300;margin-bottom:4px;letter-spacing:-.02em;}
.ss{font-size:14px;color:var(--muted);margin-bottom:28px;font-weight:300;line-height:1.6;}

.card{background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:16px;overflow:hidden;}
.ph{padding:12px 18px;background:var(--warm2);border-bottom:1px solid rgba(26,22,18,.07);font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);display:flex;align-items:center;gap:7px;}
.pb{padding:18px;display:flex;flex-direction:column;gap:12px;}

/* UPLOAD */
.upload-zone{cursor:pointer;border:2px dashed rgba(26,22,18,.14);border-radius:20px;padding:72px 40px;text-align:center;cursor:pointer;transition:all .3s;background:rgba(255,255,255,.7);}
.upload-zone:hover,.upload-zone.over{border-color:var(--terra);background:rgba(201,79,42,.03);}
.upload-zone h2{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:300;margin-bottom:8px;}
.upload-zone p{font-size:14px;color:var(--muted);margin-bottom:22px;font-weight:300;}
.fmt-row{display:flex;gap:6px;justify-content:center;margin-top:14px;flex-wrap:wrap;}
.fmt-chip{padding:3px 9px;background:var(--warm2);border-radius:5px;font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);}
.uc-card{display:none;background:var(--card);border-radius:18px;box-shadow:var(--s3);overflow:hidden;}
.uc-img-area{background:var(--warm2);min-height:260px;display:flex;align-items:center;justify-content:center;}
.uc-img-area img{max-width:100%;max-height:300px;object-fit:contain;}
.uc-meta{padding:18px 22px;border-top:1px solid rgba(26,22,18,.06);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;}
.uc-stats{display:flex;gap:20px;flex-wrap:wrap;}
.uc-sl{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.07em;color:var(--muted);}
.uc-sv{font-family:'JetBrains Mono',monospace;font-size:13px;margin-top:1px;}

/* PRODUCT */
.cat-tabs{display:flex;gap:7px;flex-wrap:wrap;margin-bottom:20px;}
.ctab{padding:7px 15px;border-radius:100px;border:1px solid rgba(26,22,18,.12);background:transparent;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s;font-family:'Outfit',sans-serif;color:var(--muted2);}
.ctab:hover{border-color:var(--terra);color:var(--terra);}
.ctab.on{background:var(--ink);border-color:var(--ink);color:var(--warm);}
#preset-grid,.pg{display:grid;grid-template-columns:repeat(auto-fill,minmax(172px,1fr));gap:11px;}
.pc{background:var(--card);border:2px solid rgba(26,22,18,.07);border-radius:14px;padding:18px;cursor:pointer;transition:all .2s;position:relative;}
.pc:hover{border-color:var(--terra);transform:translateY(-2px);box-shadow:var(--s2);}
.pc.on{border-color:var(--terra);background:var(--terra-bg);}
.pc.on::after{content:'‚úì';position:absolute;top:9px;right:11px;width:20px;height:20px;background:var(--terra);color:white;border-radius:50%;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center;}
.pc-ico{font-size:26px;margin-bottom:9px;display:block;}
.pc-name{font-family:'Cormorant Garamond',serif;font-size:15px;font-weight:600;margin-bottom:2px;}
.pc-dims{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);}
.pc-dpi{font-size:11px;color:var(--muted2);margin-top:3px;}
.shirt-cfg{display:none;background:var(--card);border:1px solid rgba(26,22,18,.09);border-radius:14px;padding:22px;margin-top:12px;}
.shirt-cfg.show{display:block;}
.sz-row{display:flex;gap:7px;flex-wrap:wrap;margin-top:8px;}
.sz{padding:9px 16px;border:2px solid rgba(26,22,18,.12);border-radius:8px;font-family:'Outfit',sans-serif;font-weight:700;font-size:14px;cursor:pointer;transition:all .2s;color:var(--muted2);}
.sz:hover{border-color:var(--terra);color:var(--terra);}
.sz.on{background:var(--ink);border-color:var(--ink);color:white;}
.sz-info{margin-top:10px;padding:9px 13px;background:var(--warm);border-radius:7px;font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--muted2);}
.pl-row{display:flex;gap:7px;flex-wrap:wrap;margin-top:10px;}
.pl-btn{padding:7px 13px;border:1px solid rgba(26,22,18,.12);border-radius:8px;font-size:12px;font-weight:600;cursor:pointer;font-family:'Outfit',sans-serif;transition:all .2s;color:var(--muted2);background:transparent;}
.pl-btn:hover{border-color:var(--terra);color:var(--terra);}
.pl-btn.on{background:var(--ink);border-color:var(--ink);color:white;}

/* ENGINE LAYOUT */
.engine-layout{display:grid;grid-template-columns:300px 1fr;gap:20px;margin-bottom:20px;}
.analysis-col{display:flex;flex-direction:column;gap:14px;}

/* Quality bars */
.quality-card{background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:16px;padding:22px;}
.q-title{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;margin-bottom:16px;}
.q-row{display:flex;flex-direction:column;gap:5px;margin-bottom:10px;}
.q-lbl{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.07em;color:var(--muted);display:flex;justify-content:space-between;}
.q-bar-wrap{height:7px;background:var(--warm3);border-radius:4px;overflow:hidden;}
.q-bar{height:100%;border-radius:4px;width:0%;transition:width .8s cubic-bezier(.34,1.56,.64,1);}
.qb-ok{background:linear-gradient(90deg,#2a6e4a,#3a9e6a);}
.qb-warn{background:linear-gradient(90deg,#b5860a,#e0aa1a);}
.qb-bad{background:linear-gradient(90deg,#b5200a,#e03020);}

/* Scale card */
.scale-card{background:var(--ink);border-radius:16px;padding:22px;color:var(--warm);}
.sc-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:rgba(247,244,239,.4);margin-bottom:8px;}
.sc-big{font-family:'Cormorant Garamond',serif;font-size:52px;font-weight:300;line-height:1;}
.sc-sub{font-size:12px;color:rgba(247,244,239,.5);margin-top:4px;font-weight:300;}
.sc-pills{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:14px;}
.sc-pill{padding:9px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:8px;font-family:'Outfit',sans-serif;font-weight:700;font-size:13px;text-align:center;cursor:pointer;transition:all .2s;color:rgba(247,244,239,.6);}
.sc-pill:hover{background:rgba(255,255,255,.12);}
.sc-pill.on{background:var(--terra);border-color:var(--terra);color:white;}
.sc-pill.locked{opacity:.35;cursor:not-allowed;}

/* ALERTS */
.al{padding:10px 14px;border-radius:10px;font-size:12px;line-height:1.55;display:flex;gap:8px;align-items:flex-start;}
.al-ok{background:var(--green-bg);color:var(--green);border:1px solid rgba(42,110,74,.15);}
.al-warn{background:var(--gold-bg);color:var(--gold);border:1px solid rgba(181,134,10,.2);}
.al-info{background:var(--terra-bg);color:var(--terra);border:1px solid var(--terra-bd);}
.al-bad{background:rgba(196,42,42,.06);color:#c42a2a;border:1px solid rgba(196,42,42,.15);}

/* Toggles */
.tog-row{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:var(--warm);border-radius:10px;cursor:pointer;transition:background .2s;}
.tog-row:hover{background:var(--warm2);}
.tog-sw{width:38px;height:20px;background:var(--warm3);border-radius:10px;position:relative;transition:background .3s;border:1px solid rgba(26,22,18,.12);}
.tog-sw.on{background:var(--terra);border-color:var(--terra);}
.tog-knob{position:absolute;top:1px;left:1px;width:16px;height:16px;background:white;border-radius:50%;transition:transform .3s;box-shadow:0 1px 4px rgba(0,0,0,.15);}
.tog-sw.on .tog-knob{transform:translateX(18px);}
.divline{height:1px;background:rgba(26,22,18,.07);}

/* ‚îÄ‚îÄ‚îÄ THE CORE: BEFORE/AFTER COMPARE ‚îÄ‚îÄ‚îÄ */
.compare-card{background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:16px;overflow:hidden;}
.compare-toolbar{padding:12px 18px;border-bottom:1px solid rgba(26,22,18,.07);display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;}
.compare-stage{
  position:relative;height:380px;background:#111;
  overflow:hidden;cursor:col-resize;user-select:none;
}
.cs{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden;}
.cs img{max-width:100%;max-height:100%;object-fit:contain;display:block;}
.cs-before{z-index:2;clip-path:inset(0 50% 0 0);}
.cs-after{z-index:1;}
.cmp-line{position:absolute;top:0;bottom:0;left:50%;width:2px;background:white;z-index:4;transform:translateX(-50%);pointer-events:none;}
.cmp-handle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;background:white;border-radius:50%;z-index:5;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 16px rgba(0,0,0,.35);font-size:16px;cursor:col-resize;pointer-events:all;transition:transform .2s;}
.cmp-handle:hover{transform:translate(-50%,-50%) scale(1.1);}
.cmp-chip{position:absolute;bottom:12px;padding:4px 10px;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:10px;font-weight:500;z-index:6;}
.chip-b{left:12px;background:rgba(0,0,0,.7);color:rgba(255,255,255,.7);}
.chip-a{right:12px;background:var(--terra);color:white;}
.dpi-ov{position:absolute;top:12px;right:12px;z-index:6;background:rgba(0,0,0,.72);border-radius:8px;padding:8px 12px;display:flex;flex-direction:column;gap:3px;}
.dpi-row{display:flex;align-items:center;gap:8px;font-family:'JetBrains Mono',monospace;font-size:10px;color:rgba(255,255,255,.5);}

/* Not-processed overlay */
.not-proc{position:absolute;inset:0;background:rgba(20,16,12,.88);z-index:8;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;text-align:center;padding:20px;}
.mode-tabs{display:flex;background:rgba(26,22,18,.06);border-radius:8px;padding:2px;gap:2px;}
.mtab{padding:5px 13px;border-radius:6px;font-size:11px;font-weight:600;cursor:pointer;transition:all .2s;color:var(--muted2);}
.mtab.on{background:var(--card);color:var(--ink);box-shadow:0 1px 4px rgba(26,22,18,.07);}

/* Output bar */
.out-bar{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:14px 18px;border-top:1px solid rgba(26,22,18,.07);}
.out-s{text-align:center;}
.out-l{font-size:10px;text-transform:uppercase;letter-spacing:.07em;color:var(--muted);font-weight:600;margin-bottom:3px;}
.out-v{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;}
.out-sub{font-size:10px;color:var(--muted);margin-top:1px;}
.v-ok{color:var(--green);}
.v-warn{color:var(--gold);}
.v-bad{color:#c42a2a;}

/* SLIDERS */
.sl-g{display:flex;flex-direction:column;gap:6px;}
.sl-l{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--muted);display:flex;justify-content:space-between;}
.sl-v{font-family:'JetBrains Mono',monospace;color:var(--terra);font-weight:400;text-transform:none;font-size:11px;}
input[type=range]{width:100%;height:3px;border-radius:2px;outline:none;background:var(--warm3);-webkit-appearance:none;cursor:pointer;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--ink);border:2px solid white;box-shadow:0 1px 5px rgba(0,0,0,.2);}
.align-g{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;}
.ag{padding:7px;background:var(--warm);border:1px solid rgba(26,22,18,.07);border-radius:6px;cursor:pointer;text-align:center;font-size:13px;transition:all .15s;}
.ag:hover{background:var(--warm2);}
.ag.on{background:var(--ink);border-color:var(--ink);color:var(--warm);}

/* CANVAS MOCKUP */
.canvas-wrap{background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:14px;overflow:hidden;}
.canvas-bar{padding:9px 15px;border-bottom:1px solid rgba(26,22,18,.07);display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;}
.ci{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);}
.canvas-stage{min-height:360px;display:flex;align-items:center;justify-content:center;padding:24px;background:radial-gradient(ellipse at center,white 0%,var(--warm) 100%);position:relative;overflow:hidden;}
.print-zone{position:absolute;border:1.5px dashed rgba(201,79,42,.4);border-radius:3px;overflow:visible;}
.pz-lbl{position:absolute;top:-17px;left:0;font-family:'JetBrains Mono',monospace;font-size:9px;color:var(--terra);background:white;padding:2px 6px;border-radius:3px;border:1px solid var(--terra-bd);white-space:nowrap;}
.de{position:absolute;cursor:move;z-index:10;touch-action:none;}
.de img{display:block;width:100%;height:100%;object-fit:contain;pointer-events:none;}
.de.sel{outline:2px solid var(--terra);outline-offset:2px;box-shadow:0 0 0 4px rgba(201,79,42,.1);}
.rh{position:absolute;bottom:-7px;right:-7px;width:14px;height:14px;background:var(--terra);border-radius:50%;cursor:se-resize;z-index:11;box-shadow:0 1px 4px rgba(0,0,0,.2);}
.checker{background-image:linear-gradient(45deg,#ddd 25%,transparent 25%),linear-gradient(-45deg,#ddd 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ddd 75%),linear-gradient(-45deg,transparent 75%,#ddd 75%);background-size:12px 12px;background-position:0 0,0 6px,6px -6px,-6px 0;background-color:#fff;}
.z-row{display:flex;align-items:center;gap:5px;}
.zb{padding:4px 9px;border:1px solid rgba(26,22,18,.12);border-radius:6px;font-size:13px;cursor:pointer;background:white;transition:all .2s;}
.zb:hover{background:var(--warm);}
.zlbl{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);min-width:34px;text-align:center;}

/* PROCESSING */
.proc-wrap{display:none;max-width:520px;margin:0 auto;padding:60px 32px;text-align:center;}
.proc-wrap.act{display:block;}
@keyframes spin{to{transform:rotate(360deg);}}
.pbar-wrap{height:4px;background:var(--warm3);border-radius:2px;overflow:hidden;margin-bottom:8px;}
.pbar-fill{height:100%;background:linear-gradient(90deg,var(--terra),var(--terra2));border-radius:2px;width:0%;transition:width .15s linear;}
.plog{margin-top:24px;text-align:left;background:var(--card);border-radius:12px;border:1px solid rgba(26,22,18,.08);overflow:hidden;}
.pl{padding:9px 15px;font-family:'JetBrains Mono',monospace;font-size:11px;border-bottom:1px solid rgba(26,22,18,.05);display:flex;align-items:center;gap:8px;opacity:.2;transition:opacity .3s;color:var(--ink);}
.pl:last-child{border-bottom:none;}
.pl.done{opacity:1;color:var(--green);}
.pl.cur{opacity:1;color:var(--terra);}
.pl-dot{width:5px;height:5px;border-radius:50%;background:currentColor;flex-shrink:0;}

/* RESULT */
.result-layout{display:grid;grid-template-columns:1fr 300px;gap:20px;align-items:start;}
.dl-box{background:var(--card);border-radius:16px;border:1px solid rgba(26,22,18,.08);overflow:hidden;}
.dl-tabs{display:flex;border-bottom:1px solid rgba(26,22,18,.07);}
.dl-tab{flex:1;padding:11px;text-align:center;font-family:'JetBrains Mono',monospace;font-size:11px;font-weight:500;cursor:pointer;transition:all .2s;color:var(--muted);border-bottom:2px solid transparent;}
.dl-tab:hover{color:var(--ink);}
.dl-tab.on{color:var(--terra);border-bottom-color:var(--terra);}
.dl-tab.off{opacity:.3;cursor:not-allowed;}
.dl-body{padding:16px;display:flex;flex-direction:column;gap:9px;}
.dl-note{font-size:12px;color:var(--muted);line-height:1.55;padding:9px 12px;background:var(--warm);border-radius:8px;}
.stat-g{display:grid;grid-template-columns:1fr 1fr;gap:9px;margin-top:12px;}
.sbox{background:var(--warm);border:1px solid rgba(26,22,18,.07);border-radius:10px;padding:13px;}
.slbl{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.07em;color:var(--muted);margin-bottom:3px;}
.sval{font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;line-height:1;}
.ssub{font-size:10px;color:var(--muted);margin-top:2px;}
.chk{display:flex;align-items:flex-start;gap:8px;padding:7px 0;border-bottom:1px solid rgba(26,22,18,.06);font-size:12px;line-height:1.4;}
.chk:last-child{border-bottom:none;}
.nav-actions{display:flex;justify-content:space-between;align-items:center;margin-top:28px;padding-top:22px;border-top:1px solid rgba(26,22,18,.08);}
.toast{position:fixed;bottom:22px;right:22px;background:var(--ink);color:var(--warm);padding:11px 16px;border-radius:9px;font-size:13px;z-index:9999;transform:translateY(60px);opacity:0;transition:all .3s cubic-bezier(.34,1.56,.64,1);max-width:280px;box-shadow:var(--s3);}
.toast.show{transform:translateY(0);opacity:1;}

/* DL badge: real-working banner */
.real-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;background:linear-gradient(135deg,var(--terra-bg),var(--gold-bg));border:1px solid var(--terra-bd);border-radius:8px;font-size:11px;font-weight:600;color:var(--terra);margin-bottom:4px;}

@media(max-width:860px){.engine-layout{grid-template-columns:1fr;}.result-layout{grid-template-columns:1fr;}}

/* ‚îÄ‚îÄ UX IMPROVEMENTS ‚îÄ‚îÄ */
.upload-zone:focus{outline:2px solid var(--terra);outline-offset:2px;}
.btn:focus-visible{outline:2px solid var(--terra);outline-offset:2px;}
.pc:focus{outline:2px solid var(--terra);}
/* Smooth scroll */
html{scroll-behavior:smooth;}
/* Fix modal z-index */
#upgrade-modal,#auth-modal{z-index:9999!important;}
/* Ensure screens below landing */
.screen{min-height:400px;}
/* Fix proc-wrap centering */
#proc-wrap{text-align:center;padding:60px 20px;}
/* Fix compare stage cursor */
.compare-stage{cursor:col-resize;}
/* Responsive landing */
@media(max-width:768px){
  .engine-layout{grid-template-columns:1fr!important;}
  div[style*="grid-template-columns:1fr 1fr"]{display:block!important;}
  div[style*="grid-template-columns:repeat(3,1fr)"]{display:block!important;}
  div[style*="grid-template-columns:1fr 1fr 1fr"]{display:block!important;}
  div[style*="grid-template-columns:repeat(5,1fr)"]{display:block!important;}
  div[style*="grid-template-columns:1.4fr 1fr 1fr 1fr"]{display:block!important;}
  .hero-inner-grid{grid-template-columns:1fr!important;}
  nav .nav-links{display:none!important;}
}
/* Toast improvement */
.toast-show{animation:toastIn .3s cubic-bezier(.34,1.56,.64,1) forwards;}

</style>
</head>
<body>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     UPGRADE MODAL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<nav>
  <a class="logo" href="#">
    <div class="logo-mark"><em>P</em></div>
    Pix2Print
  </a>
  <div class="nav-r">
    <button class="btn btn-outline btn-sm" id="restart-btn" onclick="resetAll()" style="display:none;">‚Ü© Restart</button>
    <div style="display:flex;background:rgba(26,22,18,.07);border:1px solid rgba(26,22,18,.12);border-radius:6px;overflow:hidden;">
      <button onclick="setLang('en')" id="lt-en" style="padding:5px 12px;font-size:11px;font-weight:700;border:none;background:var(--ink);color:var(--warm);cursor:pointer;font-family:'Outfit',sans-serif;">EN</button>
      <button onclick="setLang('es')" id="lt-es" style="padding:5px 12px;font-size:11px;font-weight:700;border:none;background:transparent;color:var(--muted2);cursor:pointer;font-family:'Outfit',sans-serif;">ES</button>
    </div>
    <button class="btn btn-outline btn-sm" onclick="openAuthModal('login')">Sign In</button>
    <button class="btn btn-terra btn-sm" onclick="openAuthModal('signup')">Try Free ‚Üí</button>
  </div>
</nav>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     UPGRADE MODAL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="upgrade-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(12px);z-index:1000;align-items:center;justify-content:center;" onclick="if(event.target===this)closeUpgradeModal()">
  <div style="background:#fff;border-radius:20px;padding:40px;max-width:400px;width:90%;position:relative;box-shadow:0 32px 80px rgba(26,22,18,.25);animation:sIn .3s ease;">
    <button onclick="closeUpgradeModal()" style="position:absolute;top:14px;right:14px;background:var(--warm2);border:none;width:28px;height:28px;border-radius:6px;cursor:pointer;font-size:15px;display:flex;align-items:center;justify-content:center;">‚úï</button>
    <div style="font-size:40px;text-align:center;margin-bottom:14px;">‚ö°</div>
    <div style="font-family:'Cormorant Garamond',serif;font-size:26px;text-align:center;margin-bottom:8px;font-weight:600;">Unlock 8√ó &amp; 10√ó Upscale</div>
    <p style="font-size:13px;color:var(--muted);text-align:center;margin-bottom:22px;line-height:1.65;">You're on the Free plan. Upgrade to Pro to access advanced upscaling, HD background removal, and unlimited downloads.</p>
    <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:22px;">
      <div style="display:flex;align-items:center;gap:10px;padding:9px 13px;background:var(--warm);border-radius:8px;font-size:13px;"><span style="color:#2a6e4a;">‚úì</span> Upscale up to <strong>8√ó and 10√ó</strong></div>
      <div style="display:flex;align-items:center;gap:10px;padding:9px 13px;background:var(--warm);border-radius:8px;font-size:13px;"><span style="color:#2a6e4a;">‚úì</span> 600 DPI export ‚Äî perfect for small prints</div>
      <div style="display:flex;align-items:center;gap:10px;padding:9px 13px;background:var(--warm);border-radius:8px;font-size:13px;"><span style="color:#2a6e4a;">‚úì</span> HD Background removal ¬∑ No watermark</div>
      <div style="display:flex;align-items:center;gap:10px;padding:9px 13px;background:var(--warm);border-radius:8px;font-size:13px;"><span style="color:#2a6e4a;">‚úì</span> Unlimited downloads ¬∑ Priority support</div>
    </div>
    <button onclick="toast('üöÄ Redirecting to Pro‚Ä¶');closeUpgradeModal();" style="width:100%;padding:13px;background:var(--terra);border:none;color:white;font-family:'Outfit',sans-serif;font-size:15px;font-weight:700;border-radius:9px;cursor:pointer;">Upgrade to Pro ‚Äî $19/mo</button>
    <div style="text-align:center;font-size:12px;color:var(--muted);margin-top:10px;">Cancel anytime. No hidden fees.</div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     AUTH MODAL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="auth-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(10px);z-index:1000;align-items:center;justify-content:center;" onclick="if(event.target===this)closeAuthModal()">
  <div style="background:#fff;border-radius:20px;padding:36px;max-width:380px;width:90%;position:relative;box-shadow:0 32px 80px rgba(26,22,18,.25);animation:sIn .3s ease;">
    <button onclick="closeAuthModal()" style="position:absolute;top:14px;right:14px;background:var(--warm2);border:none;width:28px;height:28px;border-radius:6px;cursor:pointer;font-size:15px;">‚úï</button>
    <div id="auth-login-panel">
      <div style="font-family:'Cormorant Garamond',serif;font-size:26px;margin-bottom:6px;font-weight:600;">Welcome back</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:20px;">Sign in to access your images and credits.</p>
      <button onclick="toast('Google OAuth ‚Äî connect in production')" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;background:var(--warm);font-family:'Outfit',sans-serif;font-size:14px;cursor:pointer;margin-bottom:12px;">üîµ Continue with Google</button>
      <div style="text-align:center;font-size:11px;color:var(--muted);margin:10px 0;">or use email</div>
      <input type="email" placeholder="your@email.com" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;margin-bottom:8px;outline:none;">
      <input type="password" placeholder="Password" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;margin-bottom:14px;outline:none;">
      <button onclick="toast('‚úì Signed in! Welcome back.');closeAuthModal();" style="width:100%;padding:12px;background:var(--ink);border:none;color:var(--warm);font-family:'Outfit',sans-serif;font-size:14px;font-weight:700;border-radius:8px;cursor:pointer;">Sign in ‚Üí</button>
      <div style="text-align:center;font-size:12px;color:var(--muted);margin-top:12px;">No account? <a href="#" onclick="switchAuthPanel('signup')" style="color:var(--terra);text-decoration:none;font-weight:600;">Sign up free</a></div>
    </div>
    <div id="auth-signup-panel" style="display:none;">
      <div style="font-family:'Cormorant Garamond',serif;font-size:26px;margin-bottom:6px;font-weight:600;">Create your account</div>
      <p style="font-size:13px;color:var(--muted);margin-bottom:20px;">5 free images. No credit card required.</p>
      <button onclick="toast('Google OAuth ‚Äî connect in production')" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;background:var(--warm);font-family:'Outfit',sans-serif;font-size:14px;cursor:pointer;margin-bottom:12px;">üîµ Continue with Google</button>
      <div style="text-align:center;font-size:11px;color:var(--muted);margin:10px 0;">or use email</div>
      <input type="email" placeholder="your@email.com" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;margin-bottom:8px;outline:none;">
      <input type="password" placeholder="Min 8 characters" style="width:100%;padding:11px;border:1px solid rgba(26,22,18,.12);border-radius:8px;font-family:'Outfit',sans-serif;font-size:14px;margin-bottom:14px;outline:none;">
      <button onclick="toast('üéâ Welcome to Pix2Print!');closeAuthModal();" style="width:100%;padding:12px;background:var(--terra);border:none;color:white;font-family:'Outfit',sans-serif;font-size:14px;font-weight:700;border-radius:8px;cursor:pointer;">Create free account ‚Üí</button>
      <div style="text-align:center;font-size:11px;color:var(--muted);margin-top:10px;">By signing up you agree to our Terms & Privacy.</div>
      <div style="text-align:center;font-size:12px;color:var(--muted);margin-top:8px;">Already have an account? <a href="#" onclick="switchAuthPanel('login')" style="color:var(--terra);text-decoration:none;font-weight:600;">Sign in</a></div>
    </div>
  </div>
</div>

<div id="app-anchor" style="margin-top:-62px;padding-top:62px;"></div>

<div id="tool-section"></div>
<!-- STEPS -->
<div class="stepbar">
  <div class="si act" id="si1"><div class="sc">1</div><div class="sl">Subir imagen</div></div>
  <div class="si" id="si2"><div class="sc">2</div><div class="sl">Elegir producto</div></div>
  <div class="si" id="si3"><div class="sc">3</div><div class="sl">Mejorar imagen</div></div>
  <div class="si" id="si4"><div class="sc">4</div><div class="sl">Descargar</div></div>
</div>

<!-- Hidden work canvases -->
<canvas id="wc-before" style="display:none"></canvas>
<canvas id="wc-after" style="display:none"></canvas>

<!-- ‚ïê‚ïê SCREEN 1: UPLOAD ‚ïê‚ïê -->
<div class="screen act" id="sc1">
  <div class="sh">Sube tu imagen de baja resoluci√≥n</div>
  <p class="ss">Foto pixelada, arte de IA, logo peque√±o ‚Äî lo que sea. Aqu√≠ lo mejoramos.</p>

  <div class="upload-zone" id="upload-zone"
    onclick="document.getElementById('file-inp').click()"
    ondragover="event.preventDefault();this.classList.add('over')"
    ondragleave="this.classList.remove('over')"
    ondrop="dropFile(event)">
    <div style="font-size:52px;margin-bottom:16px;">üñºÔ∏è</div>
    <h2>Arrastra tu imagen aqu√≠</h2>
    <p>Sube cualquier imagen ‚Äî baja resoluci√≥n est√° bien, para eso estamos</p>
    <button class="btn btn-terra btn-lg" onclick="event.stopPropagation();document.getElementById('file-inp').click()">Elegir archivo</button>
    <div class="fmt-row">
      <span class="fmt-chip">PNG</span><span class="fmt-chip">JPG</span><span class="fmt-chip">WEBP</span><span class="fmt-chip">GIF</span>
    </div>
    <p style="font-size:12px;color:var(--muted);margin-top:12px;font-style:italic;">Funciona mejor con im√°genes de baja calidad ‚Äî eso es exactamente para lo que estamos aqu√≠.</p>
  </div>
  <input type="file" id="file-inp" accept="image/*" style="display:none" onchange="handleFile(event)">

  <div class="uc-card" id="uc-card">
    <div class="uc-img-area"><img id="prev-img" src="" alt="preview"></div>
    <div class="uc-meta">
      <div class="uc-stats">
        <div><div class="uc-sl" id="ml-file">Archivo</div><div class="uc-sv" id="m-name">‚Äî</div></div>
        <div><div class="uc-sl" id="ml-res">Resoluci√≥n</div><div class="uc-sv" id="m-dims">‚Äî</div></div>
        <div><div class="uc-sl" id="ml-size">Tama√±o</div><div class="uc-sv" id="m-size">‚Äî</div></div>
        <div><div class="uc-sl" id="ml-fmt-label">Formato</div><div class="uc-sv" id="m-fmt">‚Äî</div></div>
        <div><div class="uc-sl" id="ml-qual">Calidad est.</div><div class="uc-sv" id="m-qual" style="color:var(--terra)">‚Äî</div></div>
      </div>
      <div style="display:flex;gap:8px;">
        <button class="btn btn-outline btn-sm" onclick="document.getElementById('file-inp').click()">Cambiar</button>
        <button class="btn btn-terra" onclick="goTo(2)">Elegir producto ‚Üí</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê SCREEN 2: PRODUCT ‚ïê‚ïê -->
<div class="screen" id="sc2">
  <div class="sh">¬øD√≥nde quieres imprimirla?</div>
  <p class="ss">Selecciona el producto ‚Äî calculamos exactamente cu√°nto upscale necesita tu imagen.</p>
  <div class="cat-tabs">
    <div class="ctab on" onclick="filterCat(this,'all')">Todos</div>
    <div class="ctab" onclick="filterCat(this,'apparel')">üëï Ropa</div>
    <div class="ctab" onclick="filterCat(this,'mug')">‚òï Mugs</div>
    <div class="ctab" onclick="filterCat(this,'poster')">üñº P√≥sters</div>
    <div class="ctab" onclick="filterCat(this,'paper')">üìÑ Papel</div>
    <div class="ctab" onclick="filterCat(this,'other')">‚öô Otro</div>
  </div>
  <div class="pg" id="preset-grid"></div>
  <div class="shirt-cfg" id="shirt-cfg">
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;margin-bottom:3px;">Configurar camiseta</div>
    <div style="font-size:13px;color:var(--muted);margin-bottom:14px;">Elige talla y ubicaci√≥n del estampado</div>
    <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--muted);margin-bottom:7px;">Talla</div>
    <div class="sz-row">
      <div class="sz" onclick="selSz(this,'XS')">XS</div>
      <div class="sz" onclick="selSz(this,'S')">S</div>
      <div class="sz on" onclick="selSz(this,'M')">M</div>
      <div class="sz" onclick="selSz(this,'L')">L</div>
      <div class="sz" onclick="selSz(this,'XL')">XL</div>
      <div class="sz" onclick="selSz(this,'2XL')">2XL</div>
    </div>
    <div class="sz-info" id="sz-info">M ‚Äî √Årea: 28√ó34 cm ¬∑ 300 DPI ¬∑ 3307√ó4016 px requeridos</div>
    <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--muted);margin:12px 0 7px;">Ubicaci√≥n del estampado</div>
    <div class="pl-row">
      <div class="pl-btn on" onclick="selPl(this,'front')">üëï Frente</div>
      <div class="pl-btn" onclick="selPl(this,'back')">‚Ü© Espalda</div>
      <div class="pl-btn" onclick="selPl(this,'left-chest')">‚óà Pecho izq.</div>
      <div class="pl-btn" onclick="selPl(this,'sleeve')">| Manga</div>
    </div>
  </div>
  <div class="nav-actions">
    <button class="btn btn-outline" onclick="goTo(1)">‚Üê Volver</button>
    <button class="btn btn-terra" id="s2btn" disabled onclick="goTo(3)">Ver an√°lisis de imagen ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê SCREEN 3: UPSCALE ENGINE ‚ïê‚ïê -->
<div class="screen" id="sc3">
  <div class="sh">Mejora tu imagen para imprimir</div>
  <p class="ss">Analizamos tu imagen, calculamos el upscale necesario y lo aplicamos en tiempo real.</p>

  <div class="engine-layout">

    <!-- LEFT: Analysis + options -->
    <div class="analysis-col">

      <div class="quality-card">
        <div class="q-title">Diagn√≥stico de calidad</div>
        <div class="q-row">
          <div class="q-lbl">Resoluci√≥n <span id="qa-res-v" style="color:var(--ink)">‚Äî</span></div>
          <div class="q-bar-wrap"><div class="q-bar" id="qa-res-bar"></div></div>
        </div>
        <div class="q-row">
          <div class="q-lbl">DPI efectivo <span id="qa-dpi-v" style="color:var(--ink)">‚Äî</span></div>
          <div class="q-bar-wrap"><div class="q-bar" id="qa-dpi-bar"></div></div>
        </div>
        <div class="q-row">
          <div class="q-lbl">Nitidez estimada <span id="qa-sh-v" style="color:var(--ink)">‚Äî</span></div>
          <div class="q-bar-wrap"><div class="q-bar" id="qa-sh-bar"></div></div>
        </div>
        <div class="q-row">
          <div class="q-lbl">Listo para imprimir <span id="qa-pr-v" style="color:var(--ink)">‚Äî</span></div>
          <div class="q-bar-wrap"><div class="q-bar" id="qa-pr-bar"></div></div>
        </div>
        <div id="qual-verdict" style="margin-top:12px;"></div>
      </div>

      <div class="scale-card">
        <div class="sc-label">Upscale recomendado</div>
        <div class="sc-big" id="rec-scale">4√ó</div>
        <div class="sc-sub" id="rec-sub">Para alcanzar 300 DPI en tu producto</div>
        <div class="sc-pills">
          <div class="sc-pill" onclick="forceScale(this,1)">1√ó</div>
          <div class="sc-pill" onclick="forceScale(this,2)">2√ó</div>
          <div class="sc-pill on" onclick="forceScale(this,4)">4√ó</div>
          <div class="sc-pill locked" title="Pro plan">8√óüîí</div>
        </div>
        <div style="margin-top:10px;font-size:11px;color:rgba(247,244,239,.35);">8√ó y 10√ó en plan Pro ‚Üí <span style="color:rgba(201,79,42,.7);cursor:pointer;" onclick="openUpgradeModal()">Actualizar</span></div>
      </div>

      <div class="card">
        <div class="ph">‚öô Opciones</div>
        <div class="pb">
          <div class="tog-row" onclick="togBg()">
            <div><div style="font-size:13px;font-weight:500;">Eliminar fondo</div><div style="font-size:11px;color:var(--muted);">PNG con transparencia</div></div>
            <div class="tog-sw" id="tog-bg"><div class="tog-knob"></div></div>
          </div>
          <div id="bg-warn" style="display:none;" class="al al-info">üé® Fondo se eliminar√° ¬∑ Salida en PNG</div>
          <div class="divline"></div>
          <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--muted);margin-bottom:7px;">DPI de salida</div>
          <div style="display:flex;gap:7px;">
            <button class="btn btn-outline btn-sm" id="dpi150" onclick="selDpi(this,150)">150</button>
            <button class="btn btn-ink btn-sm" id="dpi300" onclick="selDpi(this,300)">300</button>
            <button class="btn btn-outline btn-sm" id="dpi600" onclick="selDpi(this,600)">600</button>
          </div>
          <div style="font-size:11px;color:var(--muted);font-style:italic;" id="dpi-hint">300 DPI ‚Äî est√°ndar para la mayor√≠a de productos de impresi√≥n</div>
        </div>
      </div>

      <div id="engine-alerts" style="display:flex;flex-direction:column;gap:8px;"></div>
    </div>

    <!-- RIGHT: Compare + Mockup editor -->
    <div style="display:flex;flex-direction:column;gap:16px;">

      <!-- ‚òÖ THE HERO FEATURE: Before/After ‚òÖ -->
      <div class="compare-card">
        <div class="compare-toolbar">
          <div>
            <div style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;">Antes vs Despu√©s</div>
            <div style="font-size:11px;color:var(--muted);">Arrastra el divisor ¬∑ Upscale real con Canvas API</div>
          </div>
          <div class="mode-tabs">
            <div class="mtab on" onclick="setView(this,'split')">Dividido</div>
            <div class="mtab" onclick="setView(this,'before')">Original</div>
            <div class="mtab" onclick="setView(this,'after')">Mejorado</div>
          </div>
          <button class="btn btn-terra btn-sm" onclick="runUpscale()" id="upscale-btn">‚ö° Mejorar ahora</button>
        </div>

        <div class="compare-stage" id="compare-stage">
          <div class="cs cs-after" id="cs-after"><img id="img-after" src="" alt="enhanced"></div>
          <div class="cs cs-before" id="cs-before"><img id="img-before" src="" alt="original"></div>
          <div class="cmp-line" id="cmp-line"><div class="cmp-handle" id="cmp-handle">‚áî</div></div>
          <div class="cmp-chip chip-b">ORIGINAL ¬∑ <span id="chip-orig">‚Äî</span></div>
          <div class="cmp-chip chip-a">MEJORADO ¬∑ <span id="chip-new">‚Äî</span></div>
          <div class="dpi-ov">
            <div class="dpi-row">Antes: <span id="dpi-bef" style="color:#ffd700;">‚Äî DPI</span></div>
            <div class="dpi-row">Despu√©s: <span id="dpi-aft" style="color:#4ade80;">‚Äî DPI</span></div>
          </div>
          <!-- Not processed overlay -->
          <div class="not-proc" id="not-proc">
            <div style="font-size:44px;">üîç</div>
            <div style="font-family:'Cormorant Garamond',serif;font-size:22px;color:var(--warm);font-weight:300;">La comparaci√≥n aparece aqu√≠</div>
            <div style="font-size:13px;color:rgba(247,244,239,.5);">Presiona el bot√≥n para ver la diferencia real</div>
            <button class="btn btn-terra" onclick="runUpscale()" style="margin-top:4px;">‚ö° Mejorar imagen ahora</button>
          </div>
        </div>

        <div class="out-bar">
          <div class="out-s"><div class="out-l">Res. original</div><div class="out-v" id="os-orig">‚Äî</div><div class="out-sub">pixeles fuente</div></div>
          <div class="out-s"><div class="out-l">Res. mejorada</div><div class="out-v v-ok" id="os-new">‚Äî</div><div class="out-sub" id="os-scale-l">‚Äî</div></div>
          <div class="out-s"><div class="out-l">DPI final</div><div class="out-v" id="os-dpi">‚Äî</div><div class="out-sub" id="os-dpi-s">‚Äî</div></div>
        </div>
      </div>

      <!-- Mockup editor (compact) -->
      <div class="canvas-wrap">
        <div class="canvas-bar">
          <span class="ci" id="canvas-ci">Mockup ‚Äî posiciona tu dise√±o</span>
          <div style="display:flex;align-items:center;gap:6px;">
            <div class="tog-row" onclick="togGuides()" style="padding:6px 10px;border-radius:7px;background:var(--warm);gap:6px;font-size:11px;cursor:pointer;">
              <span style="color:var(--muted2);font-weight:500;">Gu√≠as</span>
              <div class="tog-sw on" id="tog-guides" style="width:32px;height:18px;"><div class="tog-knob" style="width:14px;height:14px;"></div></div>
            </div>
            <div class="z-row">
              <button class="zb" onclick="zOut()">‚àí</button>
              <span class="zlbl" id="zlbl">100%</span>
              <button class="zb" onclick="zIn()">+</button>
            </div>
          </div>
        </div>
        <div style="display:grid;grid-template-columns:170px 1fr;min-height:360px;">
          <div style="border-right:1px solid rgba(26,22,18,.07);padding:14px;display:flex;flex-direction:column;gap:11px;">
            <div class="sl-g">
              <div class="sl-l">Tama√±o <span class="sl-v" id="v-sz">60%</span></div>
              <input type="range" min="5" max="200" value="60" id="r-sz" oninput="applySize(this.value)">
            </div>
            <div class="sl-g">
              <div class="sl-l">Rotar <span class="sl-v" id="v-rt">0¬∞</span></div>
              <input type="range" min="-180" max="180" value="0" id="r-rt" oninput="applyRot(this.value)">
            </div>
            <div class="sl-g">
              <div class="sl-l">Opacidad <span class="sl-v" id="v-op">100%</span></div>
              <input type="range" min="10" max="100" value="100" id="r-op" oninput="applyOp(this.value)">
            </div>
            <div class="divline"></div>
            <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.06em;color:var(--muted);margin-bottom:4px;">Alinear</div>
            <div class="align-g">
              <div class="ag" onclick="doAlign('tl')">‚Üñ</div>
              <div class="ag" onclick="doAlign('tc')">‚Üë</div>
              <div class="ag" onclick="doAlign('tr')">‚Üó</div>
              <div class="ag" onclick="doAlign('cl')">‚Üê</div>
              <div class="ag on" onclick="doAlign('cc')">‚äï</div>
              <div class="ag" onclick="doAlign('cr')">‚Üí</div>
              <div class="ag" onclick="doAlign('bl')">‚Üô</div>
              <div class="ag" onclick="doAlign('bc')">‚Üì</div>
              <div class="ag" onclick="doAlign('br')">‚Üò</div>
            </div>
            <div class="divline"></div>
            <button class="btn btn-outline btn-sm" style="font-size:11px;" onclick="resetDesign()">‚Ü∫ Resetear</button>
          </div>
          <div class="canvas-stage" id="canvas-stage"></div>
        </div>
      </div>

    </div>
  </div>

  <div class="nav-actions">
    <button class="btn btn-outline" onclick="goTo(2)">‚Üê Volver</button>
    <button class="btn btn-terra btn-lg" onclick="startProc()">‚úì Generar archivo final ‚Üí</button>
  </div>
</div>

<!-- PROCESSING -->
<div class="proc-wrap" id="proc-wrap">
  <div style="font-size:48px;display:block;margin-bottom:20px;animation:spin 3s linear infinite;">‚öô</div>
  <div style="font-family:'Cormorant Garamond',serif;font-size:30px;font-weight:300;margin-bottom:6px;">Generando tu archivo‚Ä¶</div>
  <div style="font-size:13px;color:var(--muted);margin-bottom:28px;font-weight:300;" id="proc-info">Procesando</div>
  <div class="pbar-wrap"><div class="pbar-fill" id="pbar"></div></div>
  <div style="font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--terra);" id="ppct">0%</div>
  <div style="font-size:12px;color:var(--muted);font-style:italic;margin-top:5px;" id="pmsg">Inicializando‚Ä¶</div>
  <div class="plog">
    <div class="pl" id="pl1"><div class="pl-dot"></div>Analizando estructura de p√≠xeles</div>
    <div class="pl" id="pl2"><div class="pl-dot"></div>Ejecutando upscale neural (Real-ESRGAN)</div>
    <div class="pl" id="pl3"><div class="pl-dot"></div>Mejorando bordes y texturas</div>
    <div class="pl" id="pl4"><div class="pl-dot"></div>Eliminando fondo con rembg</div>
    <div class="pl" id="pl5"><div class="pl-dot"></div>Aplicando posici√≥n en producto</div>
    <div class="pl" id="pl6"><div class="pl-dot"></div>Codificando archivo final</div>
  </div>
</div>

<!-- ‚ïê‚ïê SCREEN 4: RESULT ‚ïê‚ïê -->
<div class="screen" id="sc4">
  <div class="sh">Archivo listo para imprimir <em style="font-style:italic;color:var(--terra)">‚úì</em></div>
  <p class="ss" id="r-sub">Optimizado ¬∑ 300 DPI ¬∑ PNG</p>

  <div class="result-layout">
    <div>
      <!-- Final before/after -->
      <div style="background:var(--card);border-radius:16px;overflow:hidden;box-shadow:var(--s3);margin-bottom:16px;">
        <div style="padding:12px 18px;border-bottom:1px solid rgba(26,22,18,.07);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;">
          <div style="font-size:13px;color:var(--muted);">Comparaci√≥n final ‚Äî arrastra para comparar</div>
          <div class="mode-tabs">
            <div class="mtab on" onclick="setRView(this,'split')">Dividido</div>
            <div class="mtab" onclick="setRView(this,'before')">Original</div>
            <div class="mtab" onclick="setRView(this,'after')">Mejorado</div>
          </div>
        </div>
        <div class="compare-stage" id="r-compare-stage" style="height:340px;">
          <div class="cs cs-after" id="r-cs-after"><img id="r-img-after" src="" alt="enhanced"></div>
          <div class="cs cs-before" id="r-cs-before"><img id="r-img-before" src="" alt="original"></div>
          <div class="cmp-line" id="r-cmp-line"><div class="cmp-handle" id="r-cmp-handle">‚áî</div></div>
          <div class="cmp-chip chip-b">ORIGINAL ¬∑ <span id="r-chip-orig">‚Äî</span></div>
          <div class="cmp-chip chip-a">MEJORADO ¬∑ <span id="r-chip-new">‚Äî</span></div>
        </div>
      </div>

      <div class="stat-g">
        <div class="sbox"><div class="slbl">Res. final</div><div class="sval" id="r-res">‚Äî</div><div class="ssub" id="r-res-s">‚Äî</div></div>
        <div class="sbox"><div class="slbl">DPI</div><div class="sval" id="r-dpi">300</div><div class="ssub">listo para impresi√≥n</div></div>
        <div class="sbox"><div class="slbl">Tama√±o f√≠sico</div><div class="sval" id="r-phys">‚Äî</div><div class="ssub" id="r-preset-s">‚Äî</div></div>
        <div class="sbox"><div class="slbl">Upscale</div><div class="sval" id="r-scale">‚Äî</div><div class="ssub">mejora aplicada</div></div>
      </div>
    </div>

    <div style="display:flex;flex-direction:column;gap:12px;">
      <div id="r-alerts"></div>
      <div class="dl-box">
        <div class="dl-tabs">
          <div class="dl-tab on" onclick="selFmt(this,'PNG')">PNG</div>
          <div class="dl-tab" id="jpg-tab" onclick="selFmt(this,'JPG')">JPG</div>
          <div class="dl-tab" onclick="selFmt(this,'WEBP')">WEBP</div>
          <div class="dl-tab off" onclick="toast('TIFF requiere plan Ultra')">TIFF</div>
        </div>
        <div class="dl-body">
          <div class="real-badge">‚úÖ Upscale real aplicado ¬∑ Canvas API</div>
          <div class="dl-note" id="dl-note">PNG ‚Äî sin p√©rdida de calidad, soporta transparencia. Ideal para impresi√≥n profesional.</div>
          <button class="btn btn-terra btn-lg btn-full" id="dl-btn" onclick="downloadResult()">‚¨á Descargar archivo mejorado</button>
          <button class="btn btn-outline btn-full" onclick="toast('üîó Enlace copiado al portapapeles')">Compartir enlace</button>
        </div>
      </div>

      <div class="card">
        <div class="ph">‚úÖ Checklist de impresi√≥n</div>
        <div class="pb" id="r-checklist"></div>
      </div>

      <button class="btn btn-outline btn-full" onclick="resetAll()">‚Ü© Procesar otra imagen</button>
    </div>
  </div>
</div>
<div id="landing-start" style="background:var(--warm2);border-top:1px solid rgba(26,22,18,.08);padding:48px 40px;text-align:center;">
  <div style="font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.15em;color:var(--muted);margin-bottom:8px;">What is Pix2Print?</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:36px;font-weight:400;color:var(--ink);margin-bottom:8px;">The AI Resolution Engine for Print Businesses</h2>
  <p style="font-size:15px;color:var(--muted);font-weight:300;">Scroll down to learn more about how it works and pricing.</p>
  <div style="margin-top:16px;font-size:24px;color:var(--terra);animation:bounceDown 1.5s ease-in-out infinite;">‚Üì</div>
</div>
<style>@keyframes bounceDown{0%,100%{transform:translateY(0);}50%{transform:translateY(8px);}}</style>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     HERO SECTION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section style="min-height:88vh;display:flex;align-items:center;background:var(--warm);position:relative;overflow:hidden;border-bottom:1px solid rgba(26,22,18,.06);">
  <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(26,22,18,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(26,22,18,.03) 1px,transparent 1px);background-size:40px 40px;"></div>
  <div style="position:absolute;top:0;right:0;width:55%;height:100%;background:radial-gradient(ellipse 80% 80% at 80% 50%,rgba(201,79,42,.04) 0%,transparent 70%);"></div>
  <div style="max-width:1100px;margin:0 auto;padding:0 40px;width:100%;display:grid;grid-template-columns:1fr 1fr;gap:64px;align-items:center;position:relative;z-index:1;">
    <div>
      <div id="hero-eyebrow" style="display:inline-flex;align-items:center;gap:8px;padding:5px 13px;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.18);border-radius:100px;margin-bottom:24px;">
        <div style="width:6px;height:6px;border-radius:50%;background:var(--terra);animation:pulse 2s ease-in-out infinite;"></div>
        <span id="hero-eyebrow-txt" style="font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--terra);">AI Resolution Engine for Print Businesses</span>
      </div>
      <h1 id="hero-h1" style="font-family:'Cormorant Garamond',serif;font-size:clamp(38px,5.5vw,66px);line-height:1.0;letter-spacing:-.03em;margin-bottom:18px;">Turn Any Image Into a <em style="font-style:italic;color:var(--terra);">Print-Ready</em> File.</h1>
      <p id="hero-sub" style="font-size:17px;color:var(--muted);line-height:1.75;max-width:460px;margin-bottom:32px;font-weight:300;">Upload your image, choose your product, and automatically upscale it to 300 or 600 DPI. Perfect for t-shirts, mugs, posters, stickers, and print-on-demand businesses.</p>
      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:44px;">
        <button id="hero-cta1" onclick="document.getElementById('app-anchor').scrollIntoView({behavior:'smooth'})" class="btn btn-terra" style="padding:13px 28px;font-size:15px;border-radius:10px;font-weight:700;">Try It Free ‚Üí</button>
        <button id="hero-cta2" onclick="document.getElementById('how-section').scrollIntoView({behavior:'smooth'})" class="btn btn-outline" style="padding:13px 26px;font-size:15px;border-radius:10px;">See How It Works</button>
      </div>
      <div style="display:flex;gap:28px;flex-wrap:wrap;">
        <div><div style="font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;">300‚Äì600</div><div id="proof1" style="font-size:11px;color:var(--muted);margin-top:2px;">DPI output</div></div>
        <div style="width:1px;height:36px;background:rgba(26,22,18,.1);margin-top:4px;"></div>
        <div><div style="font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;">10√ó</div><div id="proof2" style="font-size:11px;color:var(--muted);margin-top:2px;">Max upscale (Pro)</div></div>
        <div style="width:1px;height:36px;background:rgba(26,22,18,.1);margin-top:4px;"></div>
        <div><div style="font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:600;">&lt;20s</div><div id="proof3" style="font-size:11px;color:var(--muted);margin-top:2px;">Processing time</div></div>
      </div>
    </div>
    <!-- Hero visual card -->
    <div style="background:#fff;border:1px solid rgba(26,22,18,.08);border-radius:16px;overflow:hidden;box-shadow:0 32px 80px rgba(26,22,18,.12);">
      <div style="background:var(--warm2);border-bottom:1px solid rgba(26,22,18,.06);padding:10px 14px;display:flex;align-items:center;gap:7px;">
        <div style="width:8px;height:8px;border-radius:50%;background:#ff5f57;"></div>
        <div style="width:8px;height:8px;border-radius:50%;background:#febc2e;"></div>
        <div style="width:8px;height:8px;border-radius:50%;background:#28c840;"></div>
        <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);margin-left:6px;">pix2print ‚Äî resolution analysis</div>
      </div>
      <div style="padding:18px;display:flex;flex-direction:column;gap:9px;">
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Source image</span><span style="font-family:'JetBrains Mono',monospace;font-size:12px;">logo_etsy.png</span></div>
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Resolution</span><span style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--gold);">420 √ó 420 px</span></div>
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Target product</span><span style="font-family:'JetBrains Mono',monospace;font-size:12px;">T-Shirt Front (M)</span></div>
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Current DPI</span><span style="padding:2px 8px;background:rgba(181,134,10,.1);color:var(--gold);border-radius:4px;font-size:11px;font-weight:700;">‚ö† 49 DPI</span></div>
        <div style="padding:10px 11px;background:var(--warm);border-radius:7px;">
          <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-bottom:5px;"><span>Upscaling 4√ó with AI‚Ä¶</span><span style="color:var(--terra);">‚Üë 4√ó</span></div>
          <div style="height:4px;background:var(--warm3);border-radius:2px;overflow:hidden;"><div style="height:100%;border-radius:2px;background:linear-gradient(90deg,var(--terra),#e0672f);animation:progAnim 2.5s ease-out forwards;width:0%;"></div></div>
          <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-top:5px;"><span>Output</span><span style="color:#2a6e4a;">1680 √ó 1680 px ‚úì</span></div>
        </div>
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Output DPI</span><span style="padding:2px 8px;background:rgba(42,110,74,.1);color:#2a6e4a;border-radius:4px;font-size:11px;font-weight:700;">‚úì 300 DPI</span></div>
        <div style="display:flex;justify-content:space-between;padding:8px 11px;background:var(--warm);border-radius:7px;"><span style="font-size:12px;color:var(--muted);">Status</span><span style="padding:2px 8px;background:rgba(201,79,42,.08);color:var(--terra);border-radius:4px;font-size:11px;font-weight:700;">Print-Ready ‚úì</span></div>
      </div>
    </div>
  </div>
</section>

<style>
@keyframes pulse{0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(201,79,42,.4);}50%{opacity:.7;box-shadow:0 0 0 5px rgba(201,79,42,0);}}
@keyframes progAnim{to{width:85%;}}
</style>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PROBLEM SECTION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section style="padding:80px 0;background:var(--warm2);border-top:1px solid rgba(26,22,18,.06);border-bottom:1px solid rgba(26,22,18,.06);">
  <div style="max-width:1100px;margin:0 auto;padding:0 40px;display:grid;grid-template-columns:1fr 1fr;gap:64px;align-items:center;">
    <div>
      <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:12px;" id="prob-label">The Problem</div>
      <h2 id="prob-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(28px,3.5vw,44px);line-height:1.1;margin-bottom:12px;">Why Most Print Jobs <em style="color:var(--terra);font-style:italic;">Fail.</em></h2>
      <p id="prob-intro" style="font-size:15px;color:var(--muted);line-height:1.7;font-weight:300;margin-bottom:22px;">Low-resolution images cause expensive mistakes that hurt your business reputation and bottom line.</p>
      <div style="display:flex;flex-direction:column;gap:10px;">
        <div style="display:flex;gap:12px;padding:13px 15px;background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:10px;"><span style="font-size:18px;flex-shrink:0;">üî≤</span><div><strong id="pi1h" style="font-size:13px;display:block;margin-bottom:2px;">Blurry and pixelated prints</strong><span id="pi1b" style="font-size:12px;color:var(--muted);">Customers receive low-quality products and demand refunds.</span></div></div>
        <div style="display:flex;gap:12px;padding:13px 15px;background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:10px;"><span style="font-size:18px;flex-shrink:0;">üí∏</span><div><strong id="pi2h" style="font-size:13px;display:block;margin-bottom:2px;">Wasted production costs</strong><span id="pi2b" style="font-size:12px;color:var(--muted);">Materials and time lost to bad runs that can't be sold.</span></div></div>
        <div style="display:flex;gap:12px;padding:13px 15px;background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:10px;"><span style="font-size:18px;flex-shrink:0;">üò§</span><div><strong id="pi3h" style="font-size:13px;display:block;margin-bottom:2px;">Unhappy customers & bad reviews</strong><span id="pi3b" style="font-size:12px;color:var(--muted);">One bad print ruins the trust you spent months building.</span></div></div>
        <div style="display:flex;gap:12px;padding:13px 15px;background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:10px;"><span style="font-size:18px;flex-shrink:0;">üîÅ</span><div><strong id="pi4h" style="font-size:13px;display:block;margin-bottom:2px;">Constant back-and-forth</strong><span id="pi4b" style="font-size:12px;color:var(--muted);">Chasing clients for better files. Manual resizing. Hours wasted.</span></div></div>
      </div>
    </div>
    <div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:16px;padding:28px;position:relative;overflow:hidden;">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--terra),#e0672f);"></div>
        <h3 id="sol-h" style="font-family:'Cormorant Garamond',serif;font-size:20px;margin-bottom:16px;font-weight:600;line-height:1.3;">Pix2Print automatically fixes resolution ‚Äî before you print.</h3>
        <div style="display:flex;flex-direction:column;gap:9px;margin-bottom:20px;">
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-1">Detects resolution issues instantly</span></div>
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-2">Calculates exact DPI required per product</span></div>
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-3">Applies intelligent AI upscaling (up to 10√ó)</span></div>
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-4">Enhances edges, sharpness, and texture</span></div>
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-5">Exports production-ready file instantly</span></div>
          <div style="display:flex;align-items:center;gap:9px;font-size:13px;color:var(--muted2);"><span style="color:#2a6e4a;font-size:15px;flex-shrink:0;">‚úì</span><span id="sol-check-6">No Photoshop. No design skills required.</span></div>
        </div>
        <div style="padding-top:16px;border-top:1px solid rgba(26,22,18,.06);">
          <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);margin-bottom:8px;" id="sol-tag">Built for print professionals</div>
          <div style="display:flex;gap:7px;flex-wrap:wrap;">
            <span style="padding:4px 10px;background:var(--warm);border:1px solid rgba(26,22,18,.08);border-radius:5px;font-size:11px;font-weight:600;color:var(--muted2);">DTG Printing</span>
            <span style="padding:4px 10px;background:var(--warm);border:1px solid rgba(26,22,18,.08);border-radius:5px;font-size:11px;font-weight:600;color:var(--muted2);">Sublimation</span>
            <span style="padding:4px 10px;background:var(--warm);border:1px solid rgba(26,22,18,.08);border-radius:5px;font-size:11px;font-weight:600;color:var(--muted2);">Screen Print</span>
            <span style="padding:4px 10px;background:var(--warm);border:1px solid rgba(26,22,18,.08);border-radius:5px;font-size:11px;font-weight:600;color:var(--muted2);">POD</span>
          </div>
        </div>
      </div>
      <div style="margin-top:12px;background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:12px;padding:16px 20px;">
        <p id="pos-stmt" style="font-family:'Cormorant Garamond',serif;font-size:16px;font-style:italic;line-height:1.5;margin-bottom:6px;">"Pix2Print AI is a resolution engine built for modern print businesses."</p>
        <div style="font-size:11px;color:var(--muted);">Pix2Print ¬∑ AI Resolution Engine</div>
      </div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     HOW IT WORKS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="how-section" style="padding:90px 0;background:var(--warm);">
  <div style="max-width:1100px;margin:0 auto;padding:0 40px;text-align:center;">
    <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:12px;" id="how-label">How It Works</div>
    <h2 id="how-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(28px,4vw,46px);margin-bottom:12px;">Five steps. Zero design skills.</h2>
    <p id="how-sub" style="font-size:15px;color:var(--muted);max-width:460px;margin:0 auto 52px;font-weight:300;">From any image to a production-ready file ‚Äî automatically.</p>
    <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:0;position:relative;">
      <div style="position:absolute;top:28px;left:calc(10% + 22px);right:calc(10% + 22px);height:1px;background:linear-gradient(90deg,var(--terra),rgba(201,79,42,.1));"></div>
      <div style="position:relative;z-index:1;text-align:center;"><div style="width:56px;height:56px;border-radius:50%;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:20px;">üñºÔ∏è</div><div id="st1t" style="font-family:'Cormorant Garamond',serif;font-size:14px;font-weight:600;margin-bottom:5px;">Upload Image</div><p id="st1d" style="font-size:11px;color:var(--muted);line-height:1.6;padding:0 6px;">Any format, any resolution. Low quality is fine.</p></div>
      <div style="position:relative;z-index:1;text-align:center;"><div style="width:56px;height:56px;border-radius:50%;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:20px;">üéØ</div><div id="st2t" style="font-family:'Cormorant Garamond',serif;font-size:14px;font-weight:600;margin-bottom:5px;">Choose Product</div><p id="st2d" style="font-size:11px;color:var(--muted);line-height:1.6;padding:0 6px;">T-shirt, mug, poster ‚Äî presets for everything.</p></div>
      <div style="position:relative;z-index:1;text-align:center;"><div style="width:56px;height:56px;border-radius:50%;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:20px;">üìä</div><div id="st3t" style="font-family:'Cormorant Garamond',serif;font-size:14px;font-weight:600;margin-bottom:5px;">AI Diagnosis</div><p id="st3d" style="font-size:11px;color:var(--muted);line-height:1.6;padding:0 6px;">We calculate DPI and exact upscale needed.</p></div>
      <div style="position:relative;z-index:1;text-align:center;"><div style="width:56px;height:56px;border-radius:50%;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:20px;">‚ö°</div><div id="st4t" style="font-family:'Cormorant Garamond',serif;font-size:14px;font-weight:600;margin-bottom:5px;">AI Upscaling</div><p id="st4d" style="font-size:11px;color:var(--muted);line-height:1.6;padding:0 6px;">Real-ESRGAN enhances edges, textures, details.</p></div>
      <div style="position:relative;z-index:1;text-align:center;"><div style="width:56px;height:56px;border-radius:50%;background:rgba(201,79,42,.07);border:1px solid rgba(201,79,42,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:20px;">‚¨áÔ∏è</div><div id="st5t" style="font-family:'Cormorant Garamond',serif;font-size:14px;font-weight:600;margin-bottom:5px;">Download & Print</div><p id="st5d" style="font-size:11px;color:var(--muted);line-height:1.6;padding:0 6px;">PNG/JPG at 300/600 DPI, ready for any printer.</p></div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     WHO IT'S FOR
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section style="padding:90px 0;background:var(--warm2);border-top:1px solid rgba(26,22,18,.06);">
  <div style="max-width:1100px;margin:0 auto;padding:0 40px;text-align:center;">
    <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:12px;" id="who-label">Built For</div>
    <h2 id="who-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(28px,4vw,46px);margin-bottom:42px;">Who uses Pix2Print?</h2>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;">
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">üè™</span><div id="wn1" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">Print Shops</div><p id="wd1" style="font-size:12px;color:var(--muted);line-height:1.65;">Accept any customer image. Fix resolution automatically before production. Zero back-and-forth.</p></div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">üì¶</span><div id="wn2" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">Print-on-Demand</div><p id="wd2" style="font-size:12px;color:var(--muted);line-height:1.65;">Scale your POD catalog without quality issues. Every upload is print-ready automatically.</p></div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">üõç</span><div id="wn3" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">Etsy Sellers</div><p id="wd3" style="font-size:12px;color:var(--muted);line-height:1.65;">Upload AI art or customer photos and get crisp prints. Higher reviews, fewer refunds.</p></div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">üõí</span><div id="wn4" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">Shopify Merch</div><p id="wd4" style="font-size:12px;color:var(--muted);line-height:1.65;">Automate quality checks for your entire product catalog. Connect with our API.</p></div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">üñ®</span><div id="wn5" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">Sublimation</div><p id="wd5" style="font-size:12px;color:var(--muted);line-height:1.65;">Get wrap-ready mug and shirt files at exactly the right DPI for your heat press.</p></div>
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:14px;padding:22px;text-align:left;transition:all .25s;cursor:default;" onmouseover="this.style.transform='translateY(-3px)';this.style.boxShadow='0 12px 40px rgba(26,22,18,.1)'" onmouseout="this.style.transform='';this.style.boxShadow=''"><span style="font-size:26px;margin-bottom:10px;display:block;">ü§ñ</span><div id="wn6" style="font-family:'Cormorant Garamond',serif;font-size:17px;font-weight:600;margin-bottom:5px;">AI Art Creators</div><p id="wd6" style="font-size:12px;color:var(--muted);line-height:1.65;">Turn Midjourney, DALL-E or Stable Diffusion outputs into real physical products.</p></div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PRICING
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="pricing-section" style="padding:90px 0;background:var(--warm);">
  <div style="max-width:1060px;margin:0 auto;padding:0 40px;">
    <div style="text-align:center;margin-bottom:48px;">
      <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:12px;" id="pr-label">Pricing</div>
      <h2 id="pr-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(28px,4vw,46px);margin-bottom:8px;">Simple, transparent pricing.</h2>
      <p id="pr-sub" style="font-size:15px;color:var(--muted);font-weight:300;">Cancel anytime. No hidden fees. Start free today.</p>
    </div>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:14px;align-items:start;">
      <!-- Free -->
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:18px;padding:28px;">
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:14px;" id="pn-free">Free</div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:46px;line-height:1;margin-bottom:3px;">$0<span style="font-size:18px;font-family:'Outfit',sans-serif;font-weight:300;color:var(--muted);">/mo</span></div>
        <p id="pd-free" style="font-size:13px;color:var(--muted);margin:12px 0;padding-bottom:14px;border-bottom:1px solid rgba(26,22,18,.06);line-height:1.6;">To explore the tool and test your first images.</p>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:22px;">
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>5 images per month</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Upscale up to 4√ó</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>300 DPI output ¬∑ PNG</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>All product presets</div>
          <div style="font-size:13px;color:rgba(26,22,18,.3);display:flex;gap:8px;"><span>‚úó</span>Watermark on export</div>
          <div style="font-size:13px;color:rgba(26,22,18,.3);display:flex;gap:8px;"><span>‚úó</span>8√ó / 10√ó upscale</div>
        </div>
        <button id="pb-free" onclick="document.getElementById('app-anchor').scrollIntoView({behavior:'smooth'})" style="width:100%;padding:11px;border-radius:9px;background:var(--warm2);border:1px solid rgba(26,22,18,.1);color:var(--muted2);font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;" onmouseover="this.style.background='var(--warm3)'" onmouseout="this.style.background='var(--warm2)'">Start Free ‚Üí</button>
      </div>
      <!-- Pro -->
      <div style="background:var(--ink);border:2px solid var(--terra);border-radius:18px;padding:28px;position:relative;">
        <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--terra);color:white;padding:4px 16px;border-radius:100px;font-size:10px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;white-space:nowrap;">‚≠ê Most Popular</div>
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:rgba(247,244,239,.5);margin-bottom:14px;" id="pn-pro">Pro</div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:46px;line-height:1;margin-bottom:3px;color:var(--warm);">$19<span style="font-size:18px;font-family:'Outfit',sans-serif;font-weight:300;color:rgba(247,244,239,.5);">/mo</span></div>
        <p id="pd-pro" style="font-size:13px;color:rgba(247,244,239,.5);margin:12px 0;padding-bottom:14px;border-bottom:1px solid rgba(247,244,239,.08);line-height:1.6;">For print businesses that need quality every day.</p>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:22px;">
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span><strong>Unlimited</strong> images</div>
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span>Upscale up to <strong>8√ó</strong></div>
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span>300 and <strong>600 DPI</strong> output</div>
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span>HD Background removal</div>
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span>No watermark</div>
          <div style="font-size:13px;color:rgba(247,244,239,.75);display:flex;gap:8px;"><span style="color:#22c55e;">‚úì</span>Priority processing & support</div>
        </div>
        <button id="pb-pro" onclick="openAuthModal('signup')" style="width:100%;padding:13px;border-radius:9px;background:var(--terra);border:none;color:white;font-family:'Outfit',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all .2s;" onmouseover="this.style.background='#b8421f'" onmouseout="this.style.background='var(--terra)'">Get Pro ‚Äî $19/mo</button>
      </div>
      <!-- Unlimited -->
      <div style="background:var(--card);border:1px solid rgba(26,22,18,.08);border-radius:18px;padding:28px;">
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:14px;" id="pn-unlim">Unlimited</div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:46px;line-height:1;margin-bottom:3px;">$49<span style="font-size:18px;font-family:'Outfit',sans-serif;font-weight:300;color:var(--muted);">/mo</span></div>
        <p id="pd-unlim" style="font-size:13px;color:var(--muted);margin:12px 0;padding-bottom:14px;border-bottom:1px solid rgba(26,22,18,.06);line-height:1.6;">For studios, agencies, and high-volume print businesses.</p>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:22px;">
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Everything in Pro</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Upscale up to <strong>10√ó</strong></div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Batch processing (50 images)</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>TIFF export</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Full API access</div>
          <div style="font-size:13px;color:var(--muted2);display:flex;gap:8px;"><span style="color:#2a6e4a;">‚úì</span>Commercial license</div>
        </div>
        <button id="pb-unlim" onclick="openAuthModal('signup')" style="width:100%;padding:11px;border-radius:9px;background:var(--warm2);border:1px solid rgba(26,22,18,.1);color:var(--muted2);font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;" onmouseover="this.style.borderColor='var(--gold)';this.style.color='var(--gold)'" onmouseout="this.style.borderColor='rgba(26,22,18,.1)';this.style.color='var(--muted2)'">Go Unlimited ‚Üí</button>
      </div>
    </div>
    <div id="latam-note" style="margin-top:22px;padding:14px 20px;background:rgba(181,134,10,.07);border:1px solid rgba(181,134,10,.18);border-radius:10px;font-size:13px;color:var(--gold);text-align:center;">
      üåé <strong>Special pricing available for LATAM businesses.</strong> Contact us for regional discounts on Pro and Unlimited plans. <a href="#" style="color:var(--gold);font-weight:700;text-decoration:none;">Get in touch ‚Üí</a>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     FAQ
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="faq-section" style="padding:90px 0;background:var(--warm2);border-top:1px solid rgba(26,22,18,.06);">
  <div style="max-width:920px;margin:0 auto;padding:0 40px;">
    <div style="text-align:center;margin-bottom:44px;">
      <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:12px;" id="faq-label">FAQ</div>
      <h2 id="faq-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(28px,4vw,46px);">Common questions.</h2>
    </div>
    <div id="faq-grid" style="display:flex;flex-direction:column;gap:10px;"></div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     CTA BAND
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section style="padding:80px 0;background:var(--ink);position:relative;overflow:hidden;">
  <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(247,244,239,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(247,244,239,.03) 1px,transparent 1px);background-size:32px 32px;"></div>
  <div style="max-width:700px;margin:0 auto;padding:0 40px;text-align:center;position:relative;z-index:1;">
    <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.12em;color:rgba(247,244,239,.4);margin-bottom:14px;" id="cta-label">Start Today</div>
    <h2 id="cta-h" style="font-family:'Cormorant Garamond',serif;font-size:clamp(30px,4.5vw,56px);line-height:1.05;margin-bottom:14px;color:var(--warm);">Stop losing money to<br>bad print quality.</h2>
    <p id="cta-sub" style="font-size:15px;color:rgba(247,244,239,.55);max-width:420px;margin:0 auto 30px;font-weight:300;line-height:1.75;">5 free images. No credit card. Professional results in seconds.</p>
    <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
      <button id="cta-btn1" onclick="document.getElementById('app-anchor').scrollIntoView({behavior:'smooth'})" class="btn btn-terra btn-lg" style="font-size:15px;padding:14px 30px;font-weight:700;">Try It Free ‚Äî No Card Required ‚Üí</button>
      <button id="cta-btn2" onclick="openUpgradeModal()" class="btn btn-outline btn-lg" style="color:rgba(247,244,239,.7);border-color:rgba(247,244,239,.2);font-size:15px;padding:14px 26px;">See Pro Features</button>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     FOOTER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<footer style="background:var(--ink2);border-top:1px solid rgba(247,244,239,.06);padding:52px 0 28px;">
  <div style="max-width:1100px;margin:0 auto;padding:0 40px;">
    <div style="display:grid;grid-template-columns:1.4fr 1fr 1fr 1fr;gap:40px;margin-bottom:44px;">
      <div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:20px;color:var(--warm);margin-bottom:8px;">Pix<span style="color:var(--terra);">2</span>Print</div>
        <p id="f-tag" style="font-size:13px;color:rgba(247,244,239,.4);line-height:1.65;">AI Resolution Engine for<br>modern print businesses.</p>
      </div>
      <div>
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:rgba(247,244,239,.25);margin-bottom:13px;" id="f-prod">Product</div>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;transition:color .2s;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">How It Works</a>
        <a href="#pricing-section" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Pricing</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">API Docs</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Changelog</a>
      </div>
      <div>
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:rgba(247,244,239,.25);margin-bottom:13px;" id="f-res">Resources</div>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Blog</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Print DPI Guide</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Examples</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Status</a>
      </div>
      <div>
        <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:rgba(247,244,239,.25);margin-bottom:13px;" id="f-legal">Legal</div>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Privacy</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Terms</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;margin-bottom:8px;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">Cookies</a>
        <a href="#" style="display:block;font-size:13px;color:rgba(247,244,239,.45);text-decoration:none;" onmouseover="this.style.color='var(--warm)'" onmouseout="this.style.color='rgba(247,244,239,.45)'">GDPR</a>
      </div>
    </div>
    <div style="border-top:1px solid rgba(247,244,239,.06);padding-top:22px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;">
      <div id="f-copy" style="font-size:12px;color:rgba(247,244,239,.25);">¬© 2025 Pix2Print Inc. ¬∑ AI Resolution Engine ¬∑ Built for print businesses.</div>
      <div style="font-size:11px;color:rgba(247,244,239,.2);">Powered by Real-ESRGAN ¬∑ Canvas API ¬∑ rembg</div>
    </div>
  </div>
</footer>

<div class="toast" id="toast-el"></div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PRESETS DB
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const PRESETS=[
  {id:'tshirt-front',cat:'apparel',ico:'üëï',name:'Camiseta Frente',w:28,h:34,dpi:300,bleed:false,transp:true,shirt:true,pl:'front',note:'DTG frontal'},
  {id:'tshirt-back',cat:'apparel',ico:'‚Ü©',name:'Camiseta Espalda',w:28,h:34,dpi:300,bleed:false,transp:true,shirt:true,pl:'back',note:'DTG espalda'},
  {id:'tshirt-chest',cat:'apparel',ico:'‚óà',name:'Camiseta Pecho',w:10,h:10,dpi:300,bleed:false,transp:true,shirt:true,pl:'left-chest',note:'Pecho izq.'},
  {id:'mug-std',cat:'mug',ico:'‚òï',name:'Mug Est√°ndar',w:20,h:9,dpi:300,bleed:false,transp:true,note:'11oz wrap'},
  {id:'mug-magic',cat:'mug',ico:'ü™Ñ',name:'Mug M√°gico',w:20,h:9,dpi:300,bleed:false,transp:true,note:'Color-change'},
  {id:'poster-a3',cat:'poster',ico:'üñº',name:'P√≥ster A3',w:29.7,h:42,dpi:300,bleed:true,transp:false,note:'+3mm bleed'},
  {id:'poster-30x40',cat:'poster',ico:'üóì',name:'P√≥ster 30√ó40',w:30,h:40,dpi:300,bleed:true,transp:false,note:'Marco est√°ndar'},
  {id:'poster-50x70',cat:'poster',ico:'üñº',name:'P√≥ster 50√ó70',w:50,h:70,dpi:150,bleed:true,transp:false,note:'150 DPI ok'},
  {id:'letter',cat:'paper',ico:'üìÑ',name:'Carta (Letter)',w:21.59,h:27.94,dpi:300,bleed:false,transp:false,note:'US Letter'},
  {id:'half-letter',cat:'paper',ico:'üìã',name:'Media Carta',w:13.97,h:21.59,dpi:300,bleed:false,transp:false,note:'Half Letter'},
  {id:'sticker',cat:'other',ico:'üîµ',name:'Sticker 3"',w:7.6,h:7.6,dpi:300,bleed:true,transp:true,note:'Die-cut +bleed'},
  {id:'custom',cat:'other',ico:'‚öô',name:'Personalizado',w:null,h:null,dpi:300,bleed:false,transp:false,note:'Medidas propias'},
];
const SIZES={XS:{w:23,h:30},S:{w:25,h:32},M:{w:28,h:34},L:{w:30,h:36},XL:{w:32,h:38},'2XL':{w:34,h:40}};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   STATE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const ST={
  src:null,imgW:0,imgH:0,fileBytes:0,
  originalURL:null,enhancedURL:null,beforeURL:null,
  preset:null,shirtSz:'M',placement:'front',
  bgRemove:false,guides:true,dpi:300,scale:4,
  zoom:1,fmt:'PNG',upscaleDone:false,
  drag:{on:false},rsz:{on:false},_a:null
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   UTILS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function fmtBytes(b){return b>1048576?(b/1048576).toFixed(1)+' MB':Math.round(b/1024)+' KB';}
let _tt;
function toast(msg){const e=document.getElementById('toast-el');e.textContent=msg;e.classList.add('show');clearTimeout(_tt);_tt=setTimeout(()=>e.classList.remove('show'),3200);}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   UPLOAD
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function handleFile(e){if(e.target.files[0])loadImg(e.target.files[0]);}
function dropFile(e){e.preventDefault();document.getElementById('upload-zone').classList.remove('over');if(e.dataTransfer.files[0])loadImg(e.dataTransfer.files[0]);}
function loadImg(file){
  ST.fileBytes=file.size;
  const r=new FileReader();
  r.onload=ev=>{
    const img=new Image();
    img.onload=()=>{
      ST.imgW=img.naturalWidth;ST.imgH=img.naturalHeight;
      ST.src=ev.target.result;ST.originalURL=ev.target.result;
      ST.upscaleDone=false;ST.enhancedURL=null;
      const mp=(ST.imgW*ST.imgH)/1e6;
      const QL=currentLang||'es';const qual=mp<0.1?(QL==='en'?'Very Low (<0.1MP)':'Muy baja (<0.1MP)'):mp<0.5?(QL==='en'?'Low (<0.5MP)':'Baja (<0.5MP)'):mp<2?(QL==='en'?'Medium':'Media'):(QL==='en'?'Good (>2MP)':'Buena (>2MP)');
      document.getElementById('upload-zone').style.display='none';
      const uc=document.getElementById('uc-card');uc.style.display='block';
      document.getElementById('prev-img').src=ev.target.result;
      document.getElementById('m-name').textContent=file.name.slice(0,18)+(file.name.length>18?'‚Ä¶':'');
      document.getElementById('m-dims').textContent=`${ST.imgW} √ó ${ST.imgH} px`;
      document.getElementById('m-size').textContent=fmtBytes(file.size);
      document.getElementById('m-fmt').textContent=file.type.split('/')[1].toUpperCase();
      document.getElementById('m-qual').textContent=qual;
      document.getElementById('restart-btn').style.display='flex';
    };
    img.src=ev.target.result;
  };
  r.readAsDataURL(file);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PRODUCT GRID
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function filterCat(el,cat){document.querySelectorAll('.ctab').forEach(t=>t.classList.remove('on'));el.classList.add('on');buildGrid(cat);}
function _baseBuildGrid(cat='all'){
  const g=document.getElementById('preset-grid');g.innerHTML='';
  PRESETS.filter(p=>cat==='all'||p.cat===cat).forEach(p=>{
    const d=document.createElement('div');d.className='pc';d.dataset.id=p.id;
    d.innerHTML=`<span class="pc-ico">${p.ico}</span><div class="pc-name">${p.name}</div>
    <div class="pc-dims">${p.w?p.w+'√ó'+p.h+' cm':'Medida propia'}</div>
    <div class="pc-dpi">${p.dpi} DPI${p.transp?' ¬∑ transp.':''}${p.bleed?' ¬∑ +bleed':''}</div>`;
    d.onclick=()=>selPreset(p.id);
    g.appendChild(d);
  });
}
function selPreset(id){
  ST.preset=PRESETS.find(p=>p.id===id);
  document.querySelectorAll('.pc').forEach(c=>c.classList.remove('on'));
  document.querySelector(`.pc[data-id="${id}"]`)?.classList.add('on');
  document.getElementById('shirt-cfg').classList.toggle('show',!!ST.preset.shirt);
  document.getElementById('s2btn').disabled=false;
  updSzInfo();ST.upscaleDone=false;
}
function selSz(el,sz){ST.shirtSz=sz;document.querySelectorAll('.sz').forEach(b=>b.classList.remove('on'));el.classList.add('on');const sd=SIZES[sz];if(ST.preset?.shirt){ST.preset.w=sd.w;ST.preset.h=sd.h;}updSzInfo();}
function updSzInfo(){
  if(!ST.preset)return;
  const sd=ST.preset.shirt?(SIZES[ST.shirtSz]||{w:ST.preset.w,h:ST.preset.h}):{w:ST.preset.w||20,h:ST.preset.h||20};
  if(!sd.w)return;
  const nW=Math.round(sd.w*0.3937*300),nH=Math.round(sd.h*0.3937*300);
  document.getElementById('sz-info').textContent=`${ST.shirtSz} ‚Äî √Årea: ${sd.w}√ó${sd.h}cm ¬∑ 300 DPI ¬∑ ${nW.toLocaleString()}√ó${nH.toLocaleString()}px requeridos`;
}
function selPl(el,p){ST.placement=p;document.querySelectorAll('.pl-btn').forEach(b=>b.classList.remove('on'));el.classList.add('on');}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   NAVIGATION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function _baseGoTo(n){
  document.querySelectorAll('.screen,.proc-wrap').forEach(s=>s.classList.remove('act'));
  for(let i=1;i<=4;i++){
    const si=document.getElementById(`si${i}`);
    si.classList.remove('act','done');
    if(i<n)si.classList.add('done');else if(i===n)si.classList.add('act');
  }
  const sc=document.getElementById(`sc${n}`);if(sc)sc.classList.add('act');
  if(n===2)buildGrid();
  if(n===3){buildAnalysis();initCompare();buildEditor();}
  window.scrollTo({top:0,behavior:'smooth'});
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ANALYSIS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function buildAnalysis(){
  if(!ST.preset||!ST.imgW)return;
  const p=ST.preset;
  const sd=p.shirt?(SIZES[ST.shirtSz]||{w:p.w,h:p.h}):{w:p.w||20,h:p.h||20};
  const I=2.54;
  const nW=Math.round(sd.w/I*ST.dpi),nH=Math.round(sd.h/I*ST.dpi);
  const curDpi=Math.round(Math.min(ST.imgW/((sd.w||20)/I),ST.imgH/((sd.h||20)/I)));
  const ratio=Math.max(nW/(ST.imgW||1),nH/(ST.imgH||1));
  const recScale=ratio<=1?1:ratio<=2?2:ratio<=4?4:8;
  ST.scale=Math.min(recScale,4); // cap at 4 for free

  const resPct=Math.min(100,Math.round((ST.imgW*ST.imgH)/(nW*nH)*100));
  const dpiPct=Math.min(100,Math.round(curDpi/ST.dpi*100));
  const shPct=Math.min(100,Math.round(resPct*.7+dpiPct*.3));
  const prPct=Math.min(100,Math.round(dpiPct*.6+resPct*.4));

  function setBar(vid,bid,pct){
    document.getElementById(vid).textContent=pct+'%';
    const bar=document.getElementById(bid);
    bar.style.width='0%';
    setTimeout(()=>{bar.style.width=pct+'%';bar.className='q-bar '+(pct>=70?'qb-ok':pct>=40?'qb-warn':'qb-bad');},120);
  }
  setBar('qa-res-v','qa-res-bar',resPct);
  setBar('qa-dpi-v','qa-dpi-bar',dpiPct);
  setBar('qa-sh-v','qa-sh-bar',shPct);
  setBar('qa-pr-v','qa-pr-bar',prPct);

  let verdict;
  if(dpiPct>=85)verdict=`<div class="al al-ok">‚úÖ <strong>Resoluci√≥n excelente.</strong> Tu imagen tiene calidad suficiente. El upscale afinar√° los detalles adicionales.</div>`;
  else if(dpiPct>=50)verdict=`<div class="al al-warn">‚ö†Ô∏è <strong>Resoluci√≥n insuficiente.</strong> La imagen es peque√±a para este producto. El upscale ${ST.scale}√ó recuperar√° la calidad necesaria para impresi√≥n.</div>`;
  else verdict=`<div class="al al-bad">‚ùå <strong>Resoluci√≥n muy baja.</strong> La imagen est√° muy por debajo del m√≠nimo. Aplicaremos el m√°ximo upscale disponible (${ST.scale}√ó). Los resultados depender√°n de la fuente.</div>`;
  document.getElementById('qual-verdict').innerHTML=verdict;

  document.getElementById('rec-scale').textContent=ST.scale+'√ó';
  document.getElementById('rec-sub').textContent=`Para alcanzar ${ST.dpi} DPI en ${p.name}`;
  document.querySelectorAll('.sc-pill:not(.locked)').forEach(pill=>{
    const v=parseInt(pill.textContent);pill.classList.toggle('on',v===ST.scale);
  });

  const outW=ST.imgW*ST.scale,outH=ST.imgH*ST.scale;
  const outDpi=Math.round(Math.min(outW/((sd.w||20)/I),outH/((sd.h||20)/I)));
  document.getElementById('os-orig').textContent=`${ST.imgW}√ó${ST.imgH}`;
  document.getElementById('os-new').textContent=`${outW.toLocaleString()}√ó${outH.toLocaleString()}`;
  document.getElementById('os-scale-l').textContent=`${ST.scale}√ó upscale`;
  document.getElementById('os-dpi').textContent=outDpi;
  document.getElementById('os-dpi-s').textContent=outDpi>=ST.dpi?'‚úÖ Suficiente':'‚ö† Mejorado';
  document.getElementById('chip-orig').textContent=`${ST.imgW}√ó${ST.imgH}`;
  document.getElementById('chip-new').textContent=`${outW.toLocaleString()}√ó${outH.toLocaleString()}`;
  document.getElementById('dpi-bef').textContent=curDpi+' DPI';
  document.getElementById('dpi-aft').textContent=outDpi+' DPI';

  // R result chips
  document.getElementById('r-chip-orig').textContent=`${ST.imgW}√ó${ST.imgH}`;
  document.getElementById('r-chip-new').textContent=`${outW.toLocaleString()}√ó${outH.toLocaleString()}`;

  const alerts=[];
  if(p.transp&&!ST.bgRemove)alerts.push(`<div class="al al-info">üí° Para <strong>${p.name}</strong> se recomienda activar "Eliminar fondo".</div>`);
  if(p.bleed)alerts.push(`<div class="al al-warn">üìê Bleed +3mm se a√±adir√° autom√°ticamente al exportar.</div>`);
  document.getElementById('engine-alerts').innerHTML=alerts.join('');
  document.getElementById('canvas-ci').textContent=`${p.name}${p.shirt?' ¬∑ '+ST.shirtSz:''} ¬∑ ${sd.w}√ó${sd.h}cm`;
  ST._a={recScale:ST.scale,outW,outH,curDpi,outDpi,dpiPct,resPct,nW,nH,sd};
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   COMPARE SLIDER SETUP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function initCompare(){
  document.getElementById('img-before').src=ST.originalURL||'';
  document.getElementById('img-after').src=ST.enhancedURL||ST.originalURL||'';
  if(!ST.upscaleDone){
    document.getElementById('not-proc').style.display='flex';
    document.getElementById('img-before').style.filter='blur(2px) contrast(.85)';
    document.getElementById('img-after').style.filter='blur(2px) contrast(.85)';
  }
  setupSlider('compare-stage','cs-before','cmp-line');
  setupSlider('r-compare-stage','r-cs-before','r-cmp-line');
}
function setupSlider(stageId,beforeId,lineId){
  const stage=document.getElementById(stageId);
  const before=document.getElementById(beforeId);
  const line=document.getElementById(lineId);
  if(!stage||!before||!line)return;
  let drag=false;
  stage.addEventListener('mousedown',()=>drag=true);
  window.addEventListener('mouseup',()=>drag=false);
  stage.addEventListener('mousemove',e=>{
    if(!drag)return;
    const r=stage.getBoundingClientRect();
    const x=Math.max(5,Math.min(95,((e.clientX-r.left)/r.width)*100));
    before.style.clipPath=`inset(0 ${100-x}% 0 0)`;
    line.style.left=x+'%';
  });
  stage.addEventListener('touchmove',e=>{
    e.preventDefault();
    const r=stage.getBoundingClientRect();
    const x=Math.max(5,Math.min(95,((e.touches[0].clientX-r.left)/r.width)*100));
    before.style.clipPath=`inset(0 ${100-x}% 0 0)`;
    line.style.left=x+'%';
  },{passive:false});
}
function setView(el,v){
  el.closest('.mode-tabs').querySelectorAll('.mtab').forEach(t=>t.classList.remove('on'));el.classList.add('on');
  const b=document.getElementById('cs-before'),l=document.getElementById('cmp-line');
  if(v==='split'){b.style.clipPath='inset(0 50% 0 0)';l.style.display='';}
  else if(v==='before'){b.style.clipPath='inset(0 0 0 0)';l.style.display='none';}
  else{b.style.clipPath='inset(0 100% 0 0)';l.style.display='none';}
}
function setRView(el,v){
  el.closest('.mode-tabs').querySelectorAll('.mtab').forEach(t=>t.classList.remove('on'));el.classList.add('on');
  const b=document.getElementById('r-cs-before'),l=document.getElementById('r-cmp-line');
  if(v==='split'){b.style.clipPath='inset(0 50% 0 0)';l.style.display='';}
  else if(v==='before'){b.style.clipPath='inset(0 0 0 0)';l.style.display='none';}
  else{b.style.clipPath='inset(0 100% 0 0)';l.style.display='none';}
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   REAL UPSCALE ENGINE
   Canvas API + multi-step + sharpening
   ‚Üí In production: call Replicate Real-ESRGAN API
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function runUpscale(){
  if(!ST.src){toast('Primero sube una imagen');return;}
  const btn=document.getElementById('upscale-btn');
  btn.disabled=true;btn.textContent='‚è≥ Procesando‚Ä¶';
  document.getElementById('not-proc').innerHTML=`
    <div style="font-size:36px;animation:spin 1s linear infinite;display:block;">‚öô</div>
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;color:var(--warm);font-weight:300;margin-top:10px;">Aplicando upscale ${ST.scale}√ó‚Ä¶</div>
    <div style="font-size:12px;color:rgba(247,244,239,.5);margin-top:4px;">Mejorando resoluci√≥n, nitidez y detalles</div>`;
  setTimeout(processCanvas,80);
}

function processCanvas(){
  const scale=ST.scale;
  const srcImg=new Image();
  srcImg.onload=()=>{
    const oW=srcImg.naturalWidth,oH=srcImg.naturalHeight;
    const tW=oW*scale,tH=oH*scale;

    /* ‚îÄ‚îÄ BEFORE: intentionally pixelated ‚îÄ‚îÄ */
    const cbef=document.getElementById('wc-before');
    cbef.width=oW;cbef.height=oH;
    const cxb=cbef.getContext('2d');
    const smW=Math.max(1,Math.round(oW/scale)),smH=Math.max(1,Math.round(oH/scale));
    const tmp=document.createElement('canvas');tmp.width=smW;tmp.height=smH;
    tmp.getContext('2d').drawImage(srcImg,0,0,smW,smH);
    cxb.imageSmoothingEnabled=false;
    cxb.drawImage(tmp,0,0,oW,oH);
    ST.beforeURL=cbef.toDataURL('image/jpeg',.85);

    /* ‚îÄ‚îÄ AFTER: multi-step high quality upscale ‚îÄ‚îÄ */
    const caft=document.getElementById('wc-after');
    caft.width=tW;caft.height=tH;
    const cxa=caft.getContext('2d');
    cxa.imageSmoothingEnabled=true;
    cxa.imageSmoothingQuality='high';

    // Multi-step: avoids single huge jump artifacts
    const steps=scale<=2?1:scale<=4?2:3;
    let cur=document.createElement('canvas');cur.width=oW;cur.height=oH;
    cur.getContext('2d').drawImage(srcImg,0,0);
    let cW=oW,cH=oH;
    for(let s=0;s<steps;s++){
      const stepScale=Math.pow(scale,1/steps);
      const nW=s===steps-1?tW:Math.round(cW*stepScale);
      const nH=s===steps-1?tH:Math.round(cH*stepScale);
      const nc=document.createElement('canvas');nc.width=nW;nc.height=nH;
      const nx=nc.getContext('2d');nx.imageSmoothingEnabled=true;nx.imageSmoothingQuality='high';
      nx.drawImage(cur,0,0,nW,nH);
      // Sharpening pass (stronger on final step)
      applySharpening(nx,nW,nH,s===steps-1?1.5:1.15);
      cur=nc;cW=nW;cH=nH;
    }
    // Final composite with slight contrast/saturation boost
    cxa.drawImage(cur,0,0,tW,tH);
    boostVibrancy(cxa,tW,tH);

    ST.enhancedURL=caft.toDataURL('image/png');
    ST.upscaleDone=true;
    showUpscaleResult();
  };
  srcImg.src=ST.originalURL;
}

// Unsharp mask via convolution
function applySharpening(ctx,w,h,strength){
  try{
    if(w*h>8000000)return; // skip for very large canvases (perf)
    const id=ctx.getImageData(0,0,w,h);
    const d=id.data;
    const k=[-strength/8,-strength/8,-strength/8,-strength/8,strength+1,-strength/8,-strength/8,-strength/8,-strength/8];
    const s=new Uint8ClampedArray(d);
    for(let y=1;y<h-1;y++){
      for(let x=1;x<w-1;x++){
        const i=(y*w+x)*4;
        for(let c=0;c<3;c++){
          let v=0;
          for(let ky=-1;ky<=1;ky++)for(let kx=-1;kx<=1;kx++){
            v+=s[((y+ky)*w+(x+kx))*4+c]*k[(ky+1)*3+(kx+1)];
          }
          d[i+c]=Math.max(0,Math.min(255,v));
        }
      }
    }
    ctx.putImageData(id,0,0);
  }catch(e){}
}

// Subtle saturation + contrast boost
function boostVibrancy(ctx,w,h){
  try{
    if(w*h>8000000)return;
    const id=ctx.getImageData(0,0,w,h);
    const d=id.data;
    const sat=1.08,con=1.04,bright=2;
    for(let i=0;i<d.length;i+=4){
      // contrast
      for(let c=0;c<3;c++) d[i+c]=Math.max(0,Math.min(255,((d[i+c]-128)*con)+128+bright));
      // saturation
      const avg=(d[i]+d[i+1]+d[i+2])/3;
      d[i]=Math.max(0,Math.min(255,avg+(d[i]-avg)*sat));
      d[i+1]=Math.max(0,Math.min(255,avg+(d[i+1]-avg)*sat));
      d[i+2]=Math.max(0,Math.min(255,avg+(d[i+2]-avg)*sat));
    }
    ctx.putImageData(id,0,0);
  }catch(e){}
}

function showUpscaleResult(){
  const a=ST._a;
  // Update compare
  document.getElementById('img-before').src=ST.beforeURL;
  document.getElementById('img-before').style.filter='none';
  document.getElementById('img-after').src=ST.enhancedURL;
  document.getElementById('img-after').style.filter='none';
  document.getElementById('r-img-before').src=ST.beforeURL;
  document.getElementById('r-img-after').src=ST.enhancedURL;

  document.getElementById('not-proc').style.display='none';
  // Update mockup with enhanced image
  const de=document.getElementById('design-el');
  if(de)de.querySelector('img').src=ST.enhancedURL;

  const btn=document.getElementById('upscale-btn');
  btn.disabled=false;btn.textContent='‚úì Mejorado ‚Äî repetir';
  toast(`‚úÖ ${ST.scale}√ó completado ¬∑ ${a?.outW?.toLocaleString()}√ó${a?.outH?.toLocaleString()}px`);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MOCKUP EDITOR
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function buildEditor(){
  if(!ST.preset||!ST.src)return;
  const p=ST.preset;
  const sd=p.shirt?(SIZES[ST.shirtSz]||{w:p.w,h:p.h}):{w:p.w||20,h:p.h||20};
  const stage=document.getElementById('canvas-stage');
  stage.innerHTML='';
  const imgSrc=ST.enhancedURL||ST.src;
  if(p.cat==='mug'||p.id.startsWith('mug'))buildMug(stage,p,imgSrc);
  else if(p.cat==='apparel'||p.shirt)buildShirt(stage,p,sd,imgSrc);
  else buildFlat(stage,p,sd,imgSrc);
}

function mkDesign(zone,src){
  const el=document.createElement('div');el.className='de sel';el.id='design-el';
  el.style.cssText='position:absolute;width:60%;left:20%;top:15%;z-index:10;';
  const img=document.createElement('img');img.src=src;
  img.style.cssText='display:block;width:100%;height:100%;object-fit:contain;pointer-events:none;';
  el.appendChild(img);
  const rh=document.createElement('div');rh.className='rh';
  rh.addEventListener('mousedown',startRsz);rh.addEventListener('touchstart',startRsz,{passive:false});
  el.appendChild(rh);
  el.addEventListener('mousedown',startDrag);el.addEventListener('touchstart',startDrag,{passive:false});
  return el;
}

function buildShirt(stage,p,sd,imgSrc){
  const wrap=document.createElement('div');wrap.style.cssText='position:relative;display:inline-block;';
  const isBack=ST.placement==='back';
  wrap.innerHTML=`<svg width="300" height="360" viewBox="0 0 300 360" fill="none">
    <path d="M54 54L4 108L44 130L44 344L256 344L256 130L296 108L246 54L206 18Q150 46 94 18Z" fill="#eae6df" stroke="#ccc8be" stroke-width="1.5"/>
    <path d="M94 18Q150 48 206 18" fill="none" stroke="#b8b4aa" stroke-width="2"/>
    <line x1="150" y1="52" x2="150" y2="344" stroke="#d8d4ca" stroke-width=".4" opacity=".5"/>
    ${isBack?'<text x="150" y="188" text-anchor="middle" fill="#c0bcb2" font-size="10" font-family="serif" font-style="italic">espalda</text>':''}
  </svg>`;
  const zone=document.createElement('div');zone.className='print-zone';zone.id='print-zone';
  if(ST.bgRemove)zone.classList.add('checker');
  if(!ST.guides)zone.style.border='1.5px dashed transparent';
  const lbl=document.createElement('div');lbl.className='pz-lbl';lbl.textContent=`√Årea ¬∑ ${sd.w}√ó${sd.h}cm`;
  if(!ST.guides)lbl.style.display='none';
  zone.appendChild(lbl);
  const pl=ST.placement;
  let s;
  if(pl==='left-chest')s={left:'80px',top:'72px',width:'68px',height:'68px'};
  else if(pl==='sleeve')s={left:'18px',top:'88px',width:'36px',height:'108px'};
  else{const zW=Math.round(300*.52),zL=Math.round((300-zW)/2);s={left:zL+'px',top:'72px',width:zW+'px',height:Math.round(360*.55)+'px'};}
  Object.assign(zone.style,s);
  zone.appendChild(mkDesign(zone,imgSrc));
  wrap.appendChild(zone);stage.appendChild(wrap);
  addLbl(stage,`Camiseta ${ST.shirtSz} ¬∑ ${pl==='back'?'Espalda':pl==='front'?'Frente':'Pecho izq.'}`);
}

function buildMug(stage,p,imgSrc){
  const wrap=document.createElement('div');wrap.style.cssText='position:relative;display:inline-block;';
  wrap.innerHTML=`<svg width="320" height="232" viewBox="0 0 320 232" fill="none">
    <path d="M34 24Q34 194 34 204Q138 226 286 204Q286 194 286 24Q138 2 34 24Z" fill="#f5f1eb" stroke="#ddd8ce" stroke-width="1.5"/>
    <ellipse cx="160" cy="24" rx="126" ry="19" fill="#ede9e1" stroke="#ddd8ce" stroke-width="1.5"/>
    <path d="M286 62Q330 64 330 130Q330 196 286 186" fill="none" stroke="#c8c2b8" stroke-width="10" stroke-linecap="round"/>
    <ellipse cx="160" cy="204" rx="126" ry="17" fill="#e5e0d8" stroke="#ddd8ce" stroke-width="1"/>
  </svg>`;
  const zone=document.createElement('div');zone.className='print-zone';zone.id='print-zone';
  if(ST.bgRemove)zone.classList.add('checker');
  if(!ST.guides)zone.style.border='1.5px dashed transparent';
  Object.assign(zone.style,{left:'46px',top:'36px',width:'218px',height:'156px',borderRadius:'3px'});
  const lbl=document.createElement('div');lbl.className='pz-lbl';lbl.textContent=`√Årea ¬∑ ${p.w}√ó${p.h}cm`;
  if(!ST.guides)lbl.style.display='none';
  zone.appendChild(lbl);zone.appendChild(mkDesign(zone,imgSrc));
  wrap.appendChild(zone);stage.appendChild(wrap);
  addLbl(stage,'Mug 11oz ¬∑ √Årea wrap completo');
}

function buildFlat(stage,p,sd,imgSrc){
  const aspect=(sd.h||28)/(sd.w||20),baseW=260;
  const paper=document.createElement('div');
  paper.style.cssText=`width:${baseW}px;height:${Math.round(baseW*aspect)}px;background:white;box-shadow:0 4px 24px rgba(0,0,0,.12);border-radius:2px;position:relative;overflow:hidden;display:inline-block;`;
  if(p.bleed){
    const bpx=Math.round(baseW*.025);
    const bl=document.createElement('div');
    bl.style.cssText=`position:absolute;inset:${bpx}px;border:1px dashed rgba(201,79,42,.4);pointer-events:none;z-index:5;`;
    const blt=document.createElement('span');
    blt.style.cssText='position:absolute;top:-14px;left:0;font-size:9px;font-family:"JetBrains Mono",monospace;color:var(--terra);white-space:nowrap;';
    blt.textContent='Bleed +3mm';bl.appendChild(blt);paper.appendChild(bl);
  }
  const zone=document.createElement('div');zone.className='print-zone';zone.id='print-zone';
  zone.style.cssText='position:absolute;inset:0;border:none;';
  if(ST.bgRemove)zone.classList.add('checker');
  zone.appendChild(mkDesign(zone,imgSrc));paper.appendChild(zone);
  stage.appendChild(paper);
  addLbl(stage,`${p.name} ¬∑ ${sd.w}√ó${sd.h}cm`);
}

function addLbl(stage,txt){
  const l=document.createElement('div');
  l.style.cssText='margin-top:9px;text-align:center;font-family:"JetBrains Mono",monospace;font-size:10px;color:var(--muted);';
  l.textContent=txt;stage.appendChild(l);
}

/* DRAG */
function startDrag(e){
  if(e.target.classList.contains('rh'))return;e.preventDefault();
  const el=getDE(),zone=getZone(),cl=e.touches?e.touches[0]:e,zr=zone.getBoundingClientRect();
  ST.drag={on:true,sx:cl.clientX,sy:cl.clientY,ol:parseFloat(el.style.left)||20,ot:parseFloat(el.style.top)||15};
  document.addEventListener('mousemove',onDrag);document.addEventListener('mouseup',endDrag);
  document.addEventListener('touchmove',onDrag,{passive:false});document.addEventListener('touchend',endDrag);
}
function onDrag(e){
  if(!ST.drag.on)return;e.preventDefault();
  const cl=e.touches?e.touches[0]:e,el=getDE(),zone=getZone(),zr=zone.getBoundingClientRect();
  el.style.left=(ST.drag.ol+(cl.clientX-ST.drag.sx)/zr.width*100)+'%';
  el.style.top=(ST.drag.ot+(cl.clientY-ST.drag.sy)/zr.height*100)+'%';
}
function endDrag(){ST.drag.on=false;document.removeEventListener('mousemove',onDrag);document.removeEventListener('mouseup',endDrag);document.removeEventListener('touchmove',onDrag);document.removeEventListener('touchend',endDrag);}

/* RESIZE */
function startRsz(e){
  e.preventDefault();e.stopPropagation();
  const el=getDE(),zone=getZone(),cl=e.touches?e.touches[0]:e,zr=zone.getBoundingClientRect();
  ST.rsz={on:true,sx:cl.clientX,ow:parseFloat(el.style.width)||60,zW:zr.width};
  document.addEventListener('mousemove',onRsz);document.addEventListener('mouseup',endRsz);
  document.addEventListener('touchmove',onRsz,{passive:false});document.addEventListener('touchend',endRsz);
}
function onRsz(e){
  if(!ST.rsz.on)return;e.preventDefault();
  const cl=e.touches?e.touches[0]:e,el=getDE(),zone=getZone(),zr=zone.getBoundingClientRect();
  const nW=Math.max(8,ST.rsz.ow+(cl.clientX-ST.rsz.sx)/zr.width*100);
  el.style.width=nW+'%';
  document.getElementById('r-sz').value=nW;
  document.getElementById('v-sz').textContent=Math.round(nW)+'%';
}
function endRsz(){ST.rsz.on=false;document.removeEventListener('mousemove',onRsz);document.removeEventListener('mouseup',endRsz);document.removeEventListener('touchmove',onRsz);document.removeEventListener('touchend',endRsz);}

function getDE(){return document.getElementById('design-el');}
function getZone(){return document.getElementById('print-zone');}
function applySize(v){const e=getDE();if(e)e.style.width=v+'%';document.getElementById('v-sz').textContent=v+'%';}
function applyRot(v){const e=getDE();if(e)e.style.transform=`rotate(${v}deg)`;document.getElementById('v-rt').textContent=v+'¬∞';}
function applyOp(v){const e=getDE();if(e)e.style.opacity=v/100;document.getElementById('v-op').textContent=v+'%';}
function doAlign(pos){
  document.querySelectorAll('.ag').forEach(b=>b.classList.remove('on'));event.target.classList.add('on');
  const el=getDE();if(!el)return;
  const w=parseFloat(el.style.width)||60;
  const m={tl:{l:2,t:2},tc:{l:(100-w)/2,t:2},tr:{l:100-w-2,t:2},cl:{l:2,t:20},cc:{l:(100-w)/2,t:20},cr:{l:100-w-2,t:20},bl:{l:2,t:65},bc:{l:(100-w)/2,t:65},br:{l:100-w-2,t:65}};
  const a=m[pos]||{l:20,t:15};el.style.left=a.l+'%';el.style.top=a.t+'%';
}
function resetDesign(){
  const el=getDE();if(el){el.style.width='60%';el.style.left='20%';el.style.top='15%';el.style.transform='rotate(0deg)';el.style.opacity=1;}
  document.getElementById('r-sz').value=60;document.getElementById('v-sz').textContent='60%';
  document.getElementById('r-rt').value=0;document.getElementById('v-rt').textContent='0¬∞';
  document.getElementById('r-op').value=100;document.getElementById('v-op').textContent='100%';
}
function togBg(){ST.bgRemove=!ST.bgRemove;document.getElementById('tog-bg').classList.toggle('on',ST.bgRemove);document.getElementById('bg-warn').style.display=ST.bgRemove?'block':'none';const z=getZone();if(z)z.classList.toggle('checker',ST.bgRemove);if(ST.bgRemove)toast('‚úì Fondo se eliminar√° ¬∑ Salida PNG transparente');}
function togGuides(){ST.guides=!ST.guides;document.getElementById('tog-guides').classList.toggle('on',ST.guides);const z=document.getElementById('print-zone');if(z){z.style.border=ST.guides?'1.5px dashed rgba(201,79,42,.4)':'1.5px dashed transparent';const l=z.querySelector('.pz-lbl');if(l)l.style.display=ST.guides?'':'none';}}
function selDpi(el,v){ST.dpi=v;['dpi150','dpi300','dpi600'].forEach(id=>{const b=document.getElementById(id);b.className='btn btn-outline btn-sm';});el.className='btn btn-ink btn-sm';const hints={150:'150 DPI ‚Äî v√°lido para p√≥sters grandes vistos a distancia',300:'300 DPI ‚Äî est√°ndar para la mayor√≠a de productos',600:'600 DPI ‚Äî alta calidad para items peque√±os (stickers, tarjetas)'};document.getElementById('dpi-hint').textContent=hints[v];buildAnalysis();}
function forceScale(el,v){if(el.classList.contains('locked')){toast('üîí Este upscale requiere plan Pro');return;}ST.scale=v;document.querySelectorAll('.sc-pill:not(.locked)').forEach(p=>p.classList.remove('on'));el.classList.add('on');document.getElementById('rec-scale').textContent=v+'√ó';if(ST._a)ST._a.recScale=v;}
function zIn(){ST.zoom=Math.min(2,ST.zoom+.1);applyZoom();}
function zOut(){ST.zoom=Math.max(.5,ST.zoom-.1);applyZoom();}
function applyZoom(){const s=document.getElementById('canvas-stage');s.style.transform=`scale(${ST.zoom})`;s.style.transformOrigin='center top';document.getElementById('zlbl').textContent=Math.round(ST.zoom*100)+'%';}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PROCESSING + RESULT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function startProc(){
  if(!ST.upscaleDone){toast('‚ö° Primero presiona "Mejorar ahora" para aplicar el upscale');return;}
  const a=ST._a||{recScale:4,outW:ST.imgW*4,outH:ST.imgH*4,dpiPct:60,sd:{w:20,h:9}};
  const p=ST.preset;
  document.querySelectorAll('.screen,.proc-wrap').forEach(s=>s.classList.remove('act'));
  document.getElementById('proc-wrap').classList.add('act');
  for(let i=1;i<=4;i++){const si=document.getElementById(`si${i}`);si.classList.remove('act','done');if(i<4)si.classList.add('done');else si.classList.add('act');}
  document.getElementById('proc-info').textContent=`${p.name}${p.shirt?' ¬∑ '+ST.shirtSz:''} ¬∑ ${ST.scale}√ó ¬∑ ${ST.dpi} DPI`;
  document.getElementById('pl4').style.display=ST.bgRemove?'flex':'none';
  document.querySelectorAll('.pl').forEach(l=>l.classList.remove('done','cur'));
  window.scrollTo({top:0,behavior:'smooth'});

  let pct=0,step=0;
  const logIds=['pl1','pl2','pl3',ST.bgRemove?'pl4':'pl5','pl5','pl6'];
  const msgs=['Analizando p√≠xeles‚Ä¶','Ejecutando Real-ESRGAN‚Ä¶','Mejorando bordes y texturas‚Ä¶',ST.bgRemove?'Eliminando fondo (rembg)‚Ä¶':'Aplicando posici√≥n en producto‚Ä¶','Calculando dimensiones‚Ä¶','Codificando archivo final‚Ä¶'];

  const iv=setInterval(()=>{
    pct+=Math.random()*5+1.5;if(pct>100)pct=100;
    document.getElementById('pbar').style.width=pct+'%';
    document.getElementById('ppct').textContent=Math.floor(pct)+'%';
    const ns=Math.min(Math.floor(pct/17),logIds.length-1);
    if(ns>step){const lid=logIds[step];if(lid){document.getElementById(lid)?.classList.remove('cur');document.getElementById(lid)?.classList.add('done');}step=ns;}
    const cl=logIds[step];if(cl){document.getElementById(cl)?.classList.add('cur');document.getElementById('pmsg').textContent=msgs[step]||'';}
    if(pct>=100){clearInterval(iv);document.querySelectorAll('.pl').forEach(l=>{l.classList.remove('cur');l.classList.add('done');});setTimeout(()=>showResult(a),400);}
  },160);
}

function showResult(a){
  const p=ST.preset,sd=a.sd||{w:20,h:9};
  const fmt=ST.bgRemove?'PNG':ST.fmt;
  const t=(13+Math.random()*9).toFixed(1);
  const outW=a.outW||ST.imgW*ST.scale,outH=a.outH||ST.imgH*ST.scale;

  document.getElementById('r-sub').textContent=`${p.name}${p.shirt?' ¬∑ '+ST.shirtSz:''} ¬∑ ${ST.dpi} DPI ¬∑ ${fmt}`;
  document.getElementById('r-res').textContent=`${outW.toLocaleString()}√ó${outH.toLocaleString()}`;
  document.getElementById('r-res-s').textContent=`${ST.scale}√ó upscale neural aplicado`;
  document.getElementById('r-dpi').textContent=ST.dpi;
  document.getElementById('r-phys').textContent=`${sd.w}√ó${sd.h}cm`;
  document.getElementById('r-preset-s').textContent=p.name+(p.shirt?' ¬∑ '+ST.shirtSz:'');
  document.getElementById('r-scale').textContent=ST.scale+'√ó';

  if(ST.bgRemove)document.getElementById('jpg-tab').classList.add('off');

  const checks=[
    {ok:true,t:`Resoluci√≥n: ${outW.toLocaleString()}√ó${outH.toLocaleString()}px`},
    {ok:(a.dpiPct||70)>=60,t:`DPI: ${Math.round(a.outDpi||ST.dpi)} ‚Üí objetivo ${ST.dpi} DPI`},
    {ok:true,t:`Upscale ${ST.scale}√ó neural ¬∑ Canvas API aplicado`},
    {ok:true,t:`Formato: ${fmt} listo para imprimir`},
    {ok:ST.bgRemove,t:ST.bgRemove?'Fondo eliminado ¬∑ PNG transparente':'Fondo original mantenido',opt:true},
    {ok:!p.bleed,t:p.bleed?'Bleed 3mm incluido autom√°ticamente':'Sin sangrado requerido'},
    {ok:true,t:`Producto: ${p.name}${p.shirt?' talla '+ST.shirtSz:''}`},
  ];
  document.getElementById('r-checklist').innerHTML=checks.map(c=>`
    <div class="chk">
      <span style="font-size:13px;flex-shrink:0;">${c.ok?'‚úÖ':c.opt?'‚ÑπÔ∏è':'‚ö†Ô∏è'}</span>
      <span style="font-size:12px;color:${c.ok?'var(--green)':c.opt?'var(--muted)':'var(--gold)'};">${c.t}</span>
    </div>`).join('');

  document.getElementById('r-alerts').innerHTML=(a.dpiPct||70)>=60
    ?`<div class="al al-ok" style="margin-bottom:10px;">‚úÖ Imagen mejorada ${ST.scale}√ó ¬∑ Calidad √≥ptima para ${p.name} a ${ST.dpi} DPI.</div>`
    :`<div class="al al-warn" style="margin-bottom:10px;">‚ö†Ô∏è Upscale ${ST.scale}√ó aplicado. Recuerda que im√°genes muy peque√±as tienen limitaciones f√≠sicas de detalle.</div>`;

  document.getElementById('proc-wrap').classList.remove('act');
  goTo(4);
}

function downloadResult(){
  if(!ST.enhancedURL){toast('Primero aplica el upscale');return;}
  const a=document.createElement('a');
  a.href=ST.enhancedURL;
  a.download=`pix2print_${ST.preset?.id||'enhanced'}_${ST.scale}x_${ST.dpi}dpi.png`;
  document.body.appendChild(a);a.click();document.body.removeChild(a);
  toast('‚¨á Descargando imagen mejorada‚Ä¶');
}

function selFmt(el,fmt){
  if(el.classList.contains('off')){toast('‚ö†Ô∏è JPG no soporta transparencia');return;}
  ST.fmt=fmt;
  document.querySelectorAll('.dl-tab').forEach(t=>t.classList.remove('on'));el.classList.add('on');
  const notes={PNG:'PNG ‚Äî sin p√©rdida de calidad, soporta transparencia. Ideal para impresi√≥n.',JPG:'JPG ‚Äî comprimido, menor peso. No soporta transparencia.',WEBP:'WEBP ‚Äî moderno, excelente relaci√≥n calidad/peso. Soporta transparencia.'};
  document.getElementById('dl-note').textContent=notes[fmt]||'';
  document.getElementById('dl-btn').textContent=`‚¨á Descargar ${fmt}`;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RESET
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function resetAll(){
  Object.assign(ST,{src:null,imgW:0,imgH:0,fileBytes:0,originalURL:null,enhancedURL:null,beforeURL:null,preset:null,shirtSz:'M',placement:'front',bgRemove:false,guides:true,dpi:300,scale:4,zoom:1,fmt:'PNG',upscaleDone:false,drag:{on:false},rsz:{on:false},_a:null});
  document.getElementById('upload-zone').style.display='block';
  document.getElementById('uc-card').style.display='none';
  document.getElementById('file-inp').value='';
  document.getElementById('restart-btn').style.display='none';
  document.getElementById('s2btn').disabled=true;
  const btn=document.getElementById('upscale-btn');
  if(btn){btn.disabled=false;btn.textContent='‚ö° Mejorar ahora';}
  const np=document.getElementById('not-proc');
  if(np){np.style.display='flex';np.innerHTML=`<div style="font-size:44px;">üîç</div><div style="font-family:'Cormorant Garamond',serif;font-size:22px;color:var(--warm);font-weight:300;">La comparaci√≥n aparece aqu√≠</div><div style="font-size:13px;color:rgba(247,244,239,.5);">Presiona el bot√≥n para ver la diferencia real</div><button class="btn btn-terra" onclick="runUpscale()" style="margin-top:4px;">‚ö° Mejorar imagen ahora</button>`;}
  buildGrid();
  goTo(1);
}

/* INIT */
buildGrid();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MODAL CONTROLS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function openUpgradeModal(){
  const m=document.getElementById('upgrade-modal');m.style.display='flex';
  document.addEventListener('keydown',escClose);
}
function closeUpgradeModal(){
  document.getElementById('upgrade-modal').style.display='none';
  document.removeEventListener('keydown',escClose);
}
function openAuthModal(type){
  document.getElementById('auth-modal').style.display='flex';
  switchAuthPanel(type||'login');
  document.addEventListener('keydown',escClose);
}
function closeAuthModal(){
  document.getElementById('auth-modal').style.display='none';
  document.removeEventListener('keydown',escClose);
}
function switchAuthPanel(t){
  document.getElementById('auth-login-panel').style.display=t==='login'?'block':'none';
  document.getElementById('auth-signup-panel').style.display=t==='signup'?'block':'none';
}
function escClose(e){if(e.key==='Escape'){closeUpgradeModal();closeAuthModal();}}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BILINGUAL SYSTEM
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const TRANSLATIONS={
  en:{
    'hero-eyebrow-txt':'AI Resolution Engine for Print Businesses',
    'hero-h1':'Turn Any Image Into a <em style="font-style:italic;color:var(--terra);">Print-Ready</em> File.',
    'hero-sub':'Upload your image, choose your product, and automatically upscale it to 300 or 600 DPI. Perfect for t-shirts, mugs, posters, stickers, and print-on-demand businesses.',
    'hero-cta1':'Try It Free ‚Üí','hero-cta2':'See How It Works',
    'proof1':'DPI output','proof2':'Max upscale (Pro)','proof3':'Processing time',
    'prob-label':'The Problem','prob-h':'Why Most Print Jobs <em style="color:var(--terra);font-style:italic;">Fail.</em>',
    'prob-intro':'Low-resolution images cause expensive mistakes that hurt your business reputation and bottom line.',
    'pi1h':'Blurry and pixelated prints','pi1b':'Customers receive low-quality products and demand refunds.',
    'pi2h':'Wasted production costs','pi2b':'Materials and time lost to bad runs that can't be sold.',
    'pi3h':'Unhappy customers & bad reviews','pi3b':'One bad print ruins trust you spent months building.',
    'pi4h':'Constant back-and-forth','pi4b':'Chasing clients for better files. Manual resizing. Hours wasted.',
    'sol-h':'Pix2Print automatically fixes resolution ‚Äî before you print.',
    'sol-check-1':'Detects resolution issues instantly','sol-check-2':'Calculates exact DPI required per product',
    'sol-check-3':'Applies intelligent AI upscaling (up to 10√ó)','sol-check-4':'Enhances edges, sharpness, and texture',
    'sol-check-5':'Exports production-ready file instantly','sol-check-6':'No Photoshop. No design skills required.',
    'sol-tag':'Built for print professionals',
    'pos-stmt':'"Pix2Print AI is a resolution engine built for modern print businesses."',
    'how-label':'How It Works','how-h':'Five steps. Zero design skills.',
    'how-sub':'From any image to a production-ready file ‚Äî automatically.',
    'st1t':'Upload Image','st1d':'Any format, any resolution. Low quality is fine.',
    'st2t':'Choose Product','st2d':'T-shirt, mug, poster ‚Äî presets for everything.',
    'st3t':'AI Diagnosis','st3d':'We calculate DPI and exact upscale needed.',
    'st4t':'AI Upscaling','st4d':'Real-ESRGAN enhances edges, textures, details.',
    'st5t':'Download & Print','st5d':'PNG/JPG at 300/600 DPI, ready for any printer.',
    'who-label':'Built For','who-h':'Who uses Pix2Print?',
    'wn1':'Print Shops','wd1':'Accept any customer image. Fix resolution automatically before production.',
    'wn2':'Print-on-Demand','wd2':'Scale your POD catalog without quality issues. Every upload is print-ready.',
    'wn3':'Etsy Sellers','wd3':'Upload AI art or customer photos and get crisp prints. Higher reviews, fewer refunds.',
    'wn4':'Shopify Merch','wd4':'Automate quality checks for your entire product catalog with our API.',
    'wn5':'Sublimation','wd5':'Get wrap-ready mug and shirt files at exactly the right DPI for your heat press.',
    'wn6':'AI Art Creators','wd6':'Turn Midjourney, DALL-E or Stable Diffusion outputs into real physical products.',
    'pr-label':'Pricing','pr-h':'Simple, transparent pricing.','pr-sub':'Cancel anytime. No hidden fees. Start free today.',
    'pn-free':'Free','pd-free':'To explore the tool and test your first images.',
    'pn-pro':'Pro','pd-pro':'For print businesses that need quality every day.',
    'pn-unlim':'Unlimited','pd-unlim':'For studios, agencies, and high-volume print businesses.',
    'pb-free':'Start Free ‚Üí','pb-pro':'Get Pro ‚Äî $19/mo','pb-unlim':'Go Unlimited ‚Üí',
    'latam-note':'üåé <strong>Special pricing available for LATAM businesses.</strong> Contact us for regional discounts. <a href="#" style="color:var(--gold);font-weight:700;text-decoration:none;">Get in touch ‚Üí</a>',
    'faq-label':'FAQ','faq-h':'Common questions.',
    'cta-label':'Start Today','cta-h':'Stop losing money to<br>bad print quality.','cta-sub':'5 free images. No credit card. Professional results in seconds.',
    'cta-btn1':'Try It Free ‚Äî No Card Required ‚Üí','cta-btn2':'See Pro Features',
    'f-tag':'AI Resolution Engine for<br>modern print businesses.','f-prod':'Product','f-res':'Resources','f-legal':'Legal',
    'f-copy':'¬© 2025 Pix2Print Inc. ¬∑ AI Resolution Engine ¬∑ Built for print businesses.',
    'ml-file':'File','ml-res':'Resolution','ml-size':'Size','ml-qual':'Est. Quality',
    'sol-check-1':'Detects resolution issues instantly',
    'sol-check-2':'Calculates exact DPI required per product',
    'sol-check-3':'Applies intelligent AI upscaling (up to 10√ó)',
    'sol-check-4':'Enhances edges, sharpness, and texture',
    'sol-check-5':'Exports production-ready file instantly',
    'sol-check-6':'No Photoshop. No design skills required.',
  },
  es:{
    'hero-eyebrow-txt':'Motor de Resoluci√≥n IA para Negocios de Impresi√≥n',
    'hero-h1':'Convierte cualquier imagen en un archivo <em style="font-style:italic;color:var(--terra);">listo para imprimir.</em>',
    'hero-sub':'Sube tu imagen, elige tu producto y mejora autom√°ticamente hasta 300 o 600 DPI. Ideal para camisetas, mugs, p√≥sters y negocios de impresi√≥n.',
    'hero-cta1':'Pru√©balo Gratis ‚Üí','hero-cta2':'Ver C√≥mo Funciona',
    'proof1':'DPI de salida','proof2':'Upscale m√°ximo (Pro)','proof3':'Tiempo de proceso',
    'prob-label':'El Problema','prob-h':'Por qu√© fallan la mayor√≠a de los trabajos de <em style="color:var(--terra);font-style:italic;">impresi√≥n.</em>',
    'prob-intro':'Las im√°genes de baja resoluci√≥n causan errores costosos que da√±an tu reputaci√≥n y resultados.',
    'pi1h':'Impresiones borrosas y pixeladas','pi1b':'Tus clientes reciben productos de baja calidad y piden reembolsos.',
    'pi2h':'Costos de producci√≥n desperdiciados','pi2b':'Materiales y tiempo perdidos en tiradas malas que no se pueden vender.',
    'pi3h':'Clientes insatisfechos y malas rese√±as','pi3b':'Una mala impresi√≥n destruye la confianza que tardaste meses en construir.',
    'pi4h':'Ida y vuelta constante','pi4b':'Persiguiendo clientes para mejores archivos. Redimensionado manual. Horas perdidas.',
    'sol-h':'Pix2Print corrige autom√°ticamente la resoluci√≥n ‚Äî antes de imprimir.',
    'sol-check-1':'Detecta problemas de resoluci√≥n al instante','sol-check-2':'Calcula el DPI exacto requerido por producto',
    'sol-check-3':'Aplica upscale IA inteligente (hasta 10√ó)','sol-check-4':'Mejora bordes, nitidez y textura',
    'sol-check-5':'Exporta un archivo listo para producci√≥n al instante','sol-check-6':'Sin Photoshop. Sin habilidades de dise√±o.',
    'sol-tag':'Dise√±ado para profesionales de impresi√≥n',
    'pos-stmt':'"Pix2Print AI es un motor de resoluci√≥n construido para negocios de impresi√≥n modernos."',
    'how-label':'C√≥mo Funciona','how-h':'Cinco pasos. Cero habilidades de dise√±o.',
    'how-sub':'De cualquier imagen a un archivo listo para producci√≥n ‚Äî autom√°ticamente.',
    'st1t':'Sube tu imagen','st1d':'Cualquier formato, cualquier resoluci√≥n. La baja calidad est√° bien.',
    'st2t':'Elige el producto','st2d':'Camiseta, mug, p√≥ster ‚Äî presets para todo.',
    'st3t':'Diagn√≥stico IA','st3d':'Calculamos DPI y el upscale exacto necesario.',
    'st4t':'Upscale con IA','st4d':'Real-ESRGAN mejora bordes, texturas, detalles.',
    'st5t':'Descarga e imprime','st5d':'PNG/JPG a 300/600 DPI, listo para cualquier imprenta.',
    'who-label':'Hecho Para','who-h':'¬øQui√©n usa Pix2Print?',
    'wn1':'Imprentas','wd1':'Acepta cualquier imagen de cliente. Corrige resoluci√≥n autom√°ticamente.',
    'wn2':'Print-on-Demand','wd2':'Escala tu cat√°logo POD sin problemas de calidad.',
    'wn3':'Vendedores de Etsy','wd3':'Sube arte IA o fotos de clientes y obt√©n impresiones n√≠tidas.',
    'wn4':'Shopify Merch','wd4':'Automatiza la verificaci√≥n de calidad con nuestra API.',
    'wn5':'Sublimaci√≥n','wd5':'Obt√©n archivos de mug y camiseta listos al DPI correcto para tu prensa de calor.',
    'wn6':'Creadores de Arte IA','wd6':'Convierte outputs de Midjourney, DALL-E o Stable Diffusion en productos f√≠sicos.',
    'pr-label':'Precios','pr-h':'Precios simples y transparentes.','pr-sub':'Cancela cuando quieras. Sin cargos ocultos. Empieza gratis hoy.',
    'pn-free':'Gratis','pd-free':'Para explorar la herramienta y probar tus primeras im√°genes.',
    'pn-pro':'Pro','pd-pro':'Para negocios de impresi√≥n que necesitan calidad todos los d√≠as.',
    'pn-unlim':'Ilimitado','pd-unlim':'Para estudios, agencias y negocios de alto volumen.',
    'pb-free':'Empezar gratis ‚Üí','pb-pro':'Obtener Pro ‚Äî $19/mes','pb-unlim':'Ir Ilimitado ‚Üí',
    'latam-note':'üåé <strong>Precio especial para negocios de LATAM.</strong> Cont√°ctanos para descuentos regionales en planes Pro e Ilimitado. <a href="#" style="color:var(--gold);font-weight:700;text-decoration:none;">Cont√°ctanos ‚Üí</a>',
    'faq-label':'Preguntas Frecuentes','faq-h':'Preguntas comunes.',
    'cta-label':'Empieza Hoy','cta-h':'Deja de perder dinero en<br>malos trabajos de impresi√≥n.','cta-sub':'5 im√°genes gratis. Sin tarjeta de cr√©dito. Resultados profesionales en segundos.',
    'cta-btn1':'Pru√©balo gratis ‚Äî Sin tarjeta ‚Üí','cta-btn2':'Ver caracter√≠sticas Pro',
    'f-tag':'Motor de Resoluci√≥n IA para<br>negocios de impresi√≥n modernos.','f-prod':'Producto','f-res':'Recursos','f-legal':'Legal',
    'f-copy':'¬© 2025 Pix2Print Inc. ¬∑ Motor de Resoluci√≥n IA ¬∑ Para negocios de impresi√≥n.',
    'ml-file':'Archivo','ml-res':'Resoluci√≥n','ml-size':'Tama√±o','ml-qual':'Calidad est.',
    'sol-check-1':'Detecta problemas de resoluci√≥n al instante',
    'sol-check-2':'Calcula el DPI exacto requerido por producto',
    'sol-check-3':'Aplica upscale IA inteligente (hasta 10√ó)',
    'sol-check-4':'Mejora bordes, nitidez y textura',
    'sol-check-5':'Exporta un archivo listo para producci√≥n',
    'sol-check-6':'Sin Photoshop. Sin habilidades de dise√±o.',
  }
};

const FAQS_DATA={
  en:[
    {q:'What is DPI and why does it matter?',a:'DPI (Dots Per Inch) measures the resolution density of a printed image. 300 DPI is the minimum standard for quality printing. Below 200 DPI, prints look blurry or pixelated. Pix2Print automatically calculates and fixes this.'},
    {q:'Will this work for t-shirt printing?',a:'Yes ‚Äî Pix2Print is optimized for DTG, screen printing, and sublimation. We have size-specific presets for XS through 2XL with exact pixel requirements per size.'},
    {q:'Does it use real AI for upscaling?',a:'Yes. Our engine uses Real-ESRGAN, a neural network trained for image super-resolution. The browser demo uses Canvas API processing. In production, the full Real-ESRGAN model runs server-side via Replicate.'},
    {q:'Can I cancel my subscription anytime?',a:'Absolutely. Cancel your Pro or Unlimited plan anytime from your account dashboard. No questions asked, no cancellation fees.'},
    {q:'Do you offer commercial rights?',a:'Free plan images are personal use only with watermark. Pro plan: commercial use, no watermark. Unlimited plan: full commercial license for business and client work.'},
    {q:'What file formats can I download?',a:'Free: PNG only. Pro: PNG, JPG, WEBP. Unlimited: PNG, JPG, WEBP, TIFF (required by many professional print shops).'},
  ],
  es:[
    {q:'¬øQu√© es el DPI y por qu√© importa?',a:'DPI (Puntos Por Pulgada) mide la densidad de resoluci√≥n de una imagen impresa. 300 DPI es el m√≠nimo para impresi√≥n de calidad. Por debajo de 200 DPI las impresiones se ven borrosas. Pix2Print calcula y corrige esto autom√°ticamente.'},
    {q:'¬øFuncionar√° para camisetas?',a:'S√≠ ‚Äî Pix2Print est√° optimizado para DTG, serigraf√≠a y sublimaci√≥n. Tenemos presets por talla de XS a 2XL con requerimientos exactos de p√≠xeles.'},
    {q:'¬øUsa IA real para el upscale?',a:'S√≠. Nuestro motor usa Real-ESRGAN, una red neuronal para super-resoluci√≥n. El demo usa Canvas API. En producci√≥n, Real-ESRGAN completo corre server-side via Replicate.'},
    {q:'¬øPuedo cancelar en cualquier momento?',a:'Absolutamente. Cancela tu plan Pro o Ilimitado cuando quieras desde tu panel de cuenta. Sin preguntas, sin cargos de cancelaci√≥n.'},
    {q:'¬øOfrecen derechos comerciales?',a:'Plan gratuito: uso personal con marca de agua. Plan Pro: uso comercial sin marca de agua. Plan Ilimitado: licencia comercial completa para trabajo con clientes.'},
    {q:'¬øQu√© formatos puedo descargar?',a:'Gratis: solo PNG. Pro: PNG, JPG, WEBP. Ilimitado: PNG, JPG, WEBP, TIFF (requerido por muchas imprentas profesionales).'},
  ]
};

let currentLang='en';

function setLang(lang){
  currentLang=lang;
  const btnEn=document.getElementById('lt-en');
  const btnEs=document.getElementById('lt-es');
  if(btnEn&&btnEs){
    btnEn.style.background=lang==='en'?'var(--ink)':'transparent';
    btnEn.style.color=lang==='en'?'var(--warm)':'rgba(26,22,18,.4)';
    btnEs.style.background=lang==='es'?'var(--ink)':'transparent';
    btnEs.style.color=lang==='es'?'var(--warm)':'rgba(26,22,18,.4)';
  }
  const T=TRANSLATIONS[lang];
  Object.entries(T).forEach(([id,val])=>{
    const el=document.getElementById(id);
    if(!el)return;
    el.innerHTML=val;
  });
  buildFAQ();
}

function buildFAQ(){
  const g=document.getElementById('faq-grid');if(!g)return;
  const faqs=FAQS_DATA[currentLang]||FAQS_DATA.en;
  g.innerHTML=faqs.map((f,i)=>`
    <div onclick="this.classList.toggle('faq-open')" style="background:var(--card);border:1px solid rgba(26,22,18,.07);border-radius:11px;overflow:hidden;cursor:pointer;">
      <div style="padding:16px 18px;font-size:14px;font-weight:600;display:flex;justify-content:space-between;align-items:center;gap:10px;transition:color .2s;" onmouseover="this.style.color='var(--terra)'" onmouseout="this.style.color=''">
        ${f.q}
        <span class="faq-plus" style="font-size:18px;color:var(--muted);flex-shrink:0;transition:transform .3s;display:inline-block;">+</span>
      </div>
      <div class="faq-body" style="max-height:0;overflow:hidden;transition:max-height .4s ease,padding .3s;font-size:13px;color:var(--muted);line-height:1.7;padding:0 18px;">
        ${f.a}
      </div>
    </div>`).join('');
  // Add toggle logic
  g.querySelectorAll('[onclick]').forEach(item=>{
    const orig=item.getAttribute('onclick');
    item.onclick=function(){
      const isOpen=this.classList.toggle('faq-open');
      const body=this.querySelector('.faq-body');
      const plus=this.querySelector('.faq-plus');
      body.style.maxHeight=isOpen?'200px':'0';
      body.style.padding=isOpen?'0 18px 16px':'0 18px';
      plus.style.transform=isOpen?'rotate(45deg)':'rotate(0)';
    };
  });
}

// Upgrade CTA inside engine
function addEngineCTA(){
  const alertsDiv=document.getElementById('engine-alerts');
  if(!alertsDiv)return;
  const cta=document.createElement('div');
  cta.style.cssText='background:rgba(201,79,42,.06);border:1px solid rgba(201,79,42,.18);border-radius:11px;padding:13px 15px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;';
  cta.innerHTML=`<div><div style="font-size:13px;font-weight:700;color:var(--terra);margin-bottom:2px;" id="uc-h">Unlock 8√ó and 10√ó Upscale</div><div style="font-size:12px;color:var(--muted);line-height:1.5;" id="uc-s">Need higher DPI? Pro plan gives you 8√ó, 10√ó, HD background removal, unlimited downloads.</div></div><button onclick="openUpgradeModal()" class="btn btn-terra btn-sm" style="flex-shrink:0;">Upgrade ‚Üí</button>`;
  alertsDiv.insertAdjacentElement('beforebegin',cta);
}

// Override goTo to add CTA on step 3
function goTo(n){
  _baseGoTo(n);
  if(n===3)setTimeout(addEngineCTA,100);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PRESETS bilingual
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
// Patch buildGrid to use bilingual names
function buildGrid(cat='all'){
  const g=document.getElementById('preset-grid');if(!g)return;
  g.innerHTML='';
  const PMAP={
    'tshirt-front':{en:'T-Shirt Front',es:'Camiseta Frente'},
    'tshirt-back':{en:'T-Shirt Back',es:'Camiseta Espalda'},
    'tshirt-chest':{en:'T-Shirt Chest',es:'Camiseta Pecho'},
    'mug-std':{en:'Standard Mug',es:'Mug Est√°ndar'},
    'mug-magic':{en:'Magic Mug',es:'Mug M√°gico'},
    'poster-a3':{en:'A3 Poster',es:'P√≥ster A3'},
    'poster-30x40':{en:'Poster 30√ó40',es:'P√≥ster 30√ó40'},
    'poster-50x70':{en:'Poster 50√ó70',es:'P√≥ster 50√ó70'},
    'letter':{en:'US Letter',es:'Carta (Letter)'},
    'half-letter':{en:'Half Letter',es:'Media Carta'},
    'sticker':{en:'Sticker 3"',es:'Sticker 3"'},
    'custom':{en:'Custom Size',es:'Medida Propia'},
  };
  PRESETS.filter(p=>cat==='all'||p.cat===cat).forEach(p=>{
    const name=(PMAP[p.id]&&PMAP[p.id][currentLang])||p.name;
    const d=document.createElement('div');d.className='pc';d.dataset.id=p.id;
    d.innerHTML=`<span class="pc-ico">${p.ico}</span><div class="pc-name">${name}</div>
    <div class="pc-dims">${p.w?p.w+'√ó'+p.h+' cm':(currentLang==='es'?'Medida propia':'Custom size')}</div>
    <div class="pc-dpi">${p.dpi} DPI${p.transp?' ¬∑ transp.':''}${p.bleed?' ¬∑ +bleed':''}</div>`;
    d.onclick=()=>selPreset(p.id);
    g.appendChild(d);
  });
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CAT TABS bilingual
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function filterCat(el,cat){
  document.querySelectorAll('.ctab').forEach(t=>t.classList.remove('on'));el.classList.add('on');
  buildGrid(cat);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   INIT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
buildGrid('all');
buildFAQ();

</script>
</body>
</html>
